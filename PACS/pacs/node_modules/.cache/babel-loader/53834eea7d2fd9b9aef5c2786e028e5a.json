{"ast":null,"code":"var _jsxFileName = \"/Users/bly/Documents/\\u5DE5\\u4F5C/\\u5B9E\\u9A8C\\u5BA4/\\u9879\\u76EE/\\u533B\\u7597\\u7CFB\\u7EDF/PACS/pacs/src/pages/PatientsPage.js\";\nimport React, { Component } from 'react'; //import {Translate} from 'react-localize-redux';\n\nimport StudiesService from \"../services/DicomService\"; //import {Button, Dropdown, Select, Table, Form, Menu, Segment, Grid, Header} from \"semantic-ui-react\";\n//import {Link} from \"react-router-dom\";\n//import MenuContainer from \"../components/common/MenuContainer\";\n\nimport SearchBar from \"../components/SearchBar\";\nimport PatientTable from \"../components/PatientTable\";\nconst filterTextToValue = {\n  'Exact equals': 'exact',\n  'Starts with': 'startswith',\n  'Ends with': 'endswith',\n  'Contains': 'contains'\n};\n\nclass PatientsPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handelFilter = filterText => {\n      this.setState({\n        filterText: filterText\n      });\n    };\n\n    this.state = {\n      patients: [],\n      filterText: '' //搜索时用的过滤词语\n\n    };\n    this.setState = this.setState.bind(this); //this.handleFindInputOnChange = this.handleFindInputOnChange.bind(this);\n  } //更新过滤词\n\n\n  componentWillMount() {\n    console.log(\"开始获取patient数据\");\n    StudiesService.findPatients(patients => {\n      console.log(\"已经获取到如下patient数据\");\n      console.log(patients);\n      this.setState({\n        patients: patients\n      });\n      console.log(patients);\n    });\n  }\n  /*\n      handleFindInputOnChange(event) {\n          if (event.key === 'Enter') {\n              const patientName = document.getElementById('id_patient_name').value;\n              const patientId = document.getElementById('id_patient_id').value;\n              const patientNameFilter = filterTextToValue[document.getElementById('id_patient_name_filter').innerText.trim()];\n              const patientIdFilter = filterTextToValue[document.getElementById('id_patient_id_filter').innerText.trim()];\n              console.log(patientNameFilter);\n              StudiesService.findPatients(patients => {\n                  console.log(this);\n                  this.setState({patients: patients});\n              }, {\n                  'patient_name': `${patientNameFilter}=${patientName}`,\n                  'patient_id': `${patientIdFilter}=${patientId}`\n              });\n          }\n      }\n  */\n\n\n  render() {\n    //console.log(this.state.patients);\n    const patients = this.state.patients;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, \"Patients\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, \"\\u8F93\\u5165\\u75C5\\u4EBA\\u59D3\\u540D\\u5173\\u952E\\u5B57\\u8FDB\\u884C\\u68C0\\u7D22\"), /*#__PURE__*/React.createElement(SearchBar, {\n      filterText: this.state.filterText,\n      onFilterChange: this.handelFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PatientTable, {\n      patients: patients,\n      filterText: this.state.filterText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default PatientsPage;","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/pacs/src/pages/PatientsPage.js"],"names":["React","Component","StudiesService","SearchBar","PatientTable","filterTextToValue","PatientsPage","constructor","props","handelFilter","filterText","setState","state","patients","bind","componentWillMount","console","log","findPatients","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;;AACA,OAAOC,cAAP,MAA2B,0BAA3B,C,CACA;AACA;AACA;;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AAEA,MAAMC,iBAAiB,GAAG;AACtB,kBAAgB,OADM;AAEtB,iBAAe,YAFO;AAGtB,eAAa,UAHS;AAItB,cAAY;AAJU,CAA1B;;AAOA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AACjCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAWnBC,YAXmB,GAWHC,UAAD,IAAgB;AAC3B,WAAKC,QAAL,CAAc;AACVD,QAAAA,UAAU,EAACA;AADD,OAAd;AAGH,KAfkB;;AAEf,SAAKE,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETH,MAAAA,UAAU,EAAC,EAFF,CAEK;;AAFL,KAAb;AAIA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcG,IAAd,CAAmB,IAAnB,CAAhB,CANe,CAOf;AACH,GATgC,CAWjC;;;AAOAC,EAAAA,kBAAkB,GAAG;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAf,IAAAA,cAAc,CAACgB,YAAf,CAA4BL,QAAQ,IAAI;AACpCG,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,WAAKF,QAAL,CAAc;AAACE,QAAAA,QAAQ,EAAEA;AAAX,OAAd;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACH,KALD;AAMH;AACL;;;;;;;;;;;;;;;;;;;;AAkBIM,EAAAA,MAAM,GAAG;AACL;AACA,UAAMN,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA5B;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFAFA,eAGA,oBAAC,SAAD;AACA,MAAA,UAAU,EAAE,KAAKD,KAAL,CAAWF,UADvB;AAEA,MAAA,cAAc,EAAE,KAAKD,YAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHA,eAMA,oBAAC,YAAD;AAAc,MAAA,QAAQ,EAAEI,QAAxB;AACA,MAAA,UAAU,EAAE,KAAKD,KAAL,CAAWF,UADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANA,CADJ;AAWH;;AA3DgC;;AA8DrC,eAAeJ,YAAf","sourcesContent":["import React, {Component} from 'react';\n//import {Translate} from 'react-localize-redux';\nimport StudiesService from \"../services/DicomService\";\n//import {Button, Dropdown, Select, Table, Form, Menu, Segment, Grid, Header} from \"semantic-ui-react\";\n//import {Link} from \"react-router-dom\";\n//import MenuContainer from \"../components/common/MenuContainer\";\nimport SearchBar from \"../components/SearchBar\";\nimport PatientTable from \"../components/PatientTable\";\n\nconst filterTextToValue = {\n    'Exact equals': 'exact',\n    'Starts with': 'startswith',\n    'Ends with': 'endswith',\n    'Contains': 'contains'\n};\n\nclass PatientsPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            patients: [],\n            filterText:'',//搜索时用的过滤词语\n        };\n        this.setState = this.setState.bind(this);\n        //this.handleFindInputOnChange = this.handleFindInputOnChange.bind(this);\n    }\n\n    //更新过滤词\n    handelFilter = (filterText) => {\n        this.setState({\n            filterText:filterText\n        });\n    };\n\n    componentWillMount() {\n        console.log(\"开始获取patient数据\");\n        StudiesService.findPatients(patients => {\n            console.log(\"已经获取到如下patient数据\");\n            console.log(patients);\n            this.setState({patients: patients});\n            console.log(patients);\n        });\n    }\n/*\n    handleFindInputOnChange(event) {\n        if (event.key === 'Enter') {\n            const patientName = document.getElementById('id_patient_name').value;\n            const patientId = document.getElementById('id_patient_id').value;\n            const patientNameFilter = filterTextToValue[document.getElementById('id_patient_name_filter').innerText.trim()];\n            const patientIdFilter = filterTextToValue[document.getElementById('id_patient_id_filter').innerText.trim()];\n            console.log(patientNameFilter);\n            StudiesService.findPatients(patients => {\n                console.log(this);\n                this.setState({patients: patients});\n            }, {\n                'patient_name': `${patientNameFilter}=${patientName}`,\n                'patient_id': `${patientIdFilter}=${patientId}`\n            });\n        }\n    }\n*/\n    render() {\n        //console.log(this.state.patients);\n        const patients = this.state.patients;\n        return (\n            <div>\n            <h1>Patients</h1>\n            <p>输入病人姓名关键字进行检索</p >\n            <SearchBar \n            filterText={this.state.filterText}\n            onFilterChange={this.handelFilter}/>\n            <PatientTable patients={patients} \n            filterText={this.state.filterText}/>\n        </div>            \n        );\n    }\n}\n\nexport default PatientsPage;\n"]},"metadata":{},"sourceType":"module"}
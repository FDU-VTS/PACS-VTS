{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport isBrowser from '../isBrowser';\nimport EventTarget from './EventTarget';\nimport normalizeTarget from './normalizeTarget';\n\nvar EventStack = function EventStack() {\n  var _this = this;\n\n  _classCallCheck(this, EventStack);\n\n  this._find = function (target) {\n    var autoCreate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var normalized = normalizeTarget(target);\n    if (_this._targets.has(normalized)) return _this._targets.get(normalized);\n    if (!autoCreate) return;\n    var eventTarget = new EventTarget(normalized);\n\n    _this._targets.set(normalized, eventTarget);\n\n    return eventTarget;\n  };\n\n  this._remove = function (target) {\n    var normalized = normalizeTarget(target);\n\n    _this._targets.delete(normalized);\n  };\n\n  this.sub = function (name, handlers) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (!isBrowser()) return;\n    var _options$target = options.target,\n        target = _options$target === undefined ? document : _options$target,\n        _options$pool = options.pool,\n        pool = _options$pool === undefined ? 'default' : _options$pool;\n\n    var eventTarget = _this._find(target);\n\n    eventTarget.sub(name, handlers, pool);\n  };\n\n  this.unsub = function (name, handlers) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (!isBrowser()) return;\n    var _options$target2 = options.target,\n        target = _options$target2 === undefined ? document : _options$target2,\n        _options$pool2 = options.pool,\n        pool = _options$pool2 === undefined ? 'default' : _options$pool2;\n\n    var eventTarget = _this._find(target, false);\n\n    if (eventTarget) {\n      eventTarget.unsub(name, handlers, pool);\n      if (eventTarget.empty()) _this._remove(target);\n    }\n  };\n\n  this._targets = new Map();\n} // ------------------------------------\n// Target utils\n// ------------------------------------\n// ------------------------------------\n// Pub/sub\n// ------------------------------------\n;\n\nvar instance = new EventStack();\nexport default instance;","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/pacs/node_modules/semantic-ui-react/dist/es/lib/eventStack/eventStack.js"],"names":["_classCallCheck","isBrowser","EventTarget","normalizeTarget","EventStack","_this","_find","target","autoCreate","arguments","length","undefined","normalized","_targets","has","get","eventTarget","set","_remove","delete","sub","name","handlers","options","_options$target","document","_options$pool","pool","unsub","_options$target2","_options$pool2","empty","Map","instance"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport isBrowser from '../isBrowser';\nimport EventTarget from './EventTarget';\nimport normalizeTarget from './normalizeTarget';\n\nvar EventStack = function EventStack() {\n  var _this = this;\n\n  _classCallCheck(this, EventStack);\n\n  this._find = function (target) {\n    var autoCreate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var normalized = normalizeTarget(target);\n\n    if (_this._targets.has(normalized)) return _this._targets.get(normalized);\n    if (!autoCreate) return;\n\n    var eventTarget = new EventTarget(normalized);\n    _this._targets.set(normalized, eventTarget);\n\n    return eventTarget;\n  };\n\n  this._remove = function (target) {\n    var normalized = normalizeTarget(target);\n\n    _this._targets.delete(normalized);\n  };\n\n  this.sub = function (name, handlers) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!isBrowser()) return;\n\n    var _options$target = options.target,\n        target = _options$target === undefined ? document : _options$target,\n        _options$pool = options.pool,\n        pool = _options$pool === undefined ? 'default' : _options$pool;\n\n    var eventTarget = _this._find(target);\n\n    eventTarget.sub(name, handlers, pool);\n  };\n\n  this.unsub = function (name, handlers) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!isBrowser()) return;\n\n    var _options$target2 = options.target,\n        target = _options$target2 === undefined ? document : _options$target2,\n        _options$pool2 = options.pool,\n        pool = _options$pool2 === undefined ? 'default' : _options$pool2;\n\n    var eventTarget = _this._find(target, false);\n\n    if (eventTarget) {\n      eventTarget.unsub(name, handlers, pool);\n      if (eventTarget.empty()) _this._remove(target);\n    }\n  };\n\n  this._targets = new Map();\n}\n\n// ------------------------------------\n// Target utils\n// ------------------------------------\n\n// ------------------------------------\n// Pub/sub\n// ------------------------------------\n\n;\n\nvar instance = new EventStack();\n\nexport default instance;"]},"metadata":{},"sourceType":"module"}
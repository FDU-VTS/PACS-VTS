{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport { defaultTranslateOptions } from './locale';\nexport var getLocalizedElement = function getLocalizedElement(key, translations, data, activeLanguage) {\n  var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : defaultTranslateOptions;\n\n  var onMissingTranslation = function onMissingTranslation() {\n    if (options.missingTranslationCallback) {\n      options.missingTranslationCallback(key, activeLanguage.code);\n    }\n\n    return options.showMissingTranslationMsg === false ? '' : templater(options.missingTranslationMsg || '', {\n      key: key,\n      code: activeLanguage.code\n    });\n  };\n\n  var localizedString = translations[key] || onMissingTranslation();\n  var translatedValue = templater(localizedString, data);\n  return options.renderInnerHtml && hasHtmlTags(translatedValue) ? React.createElement('span', {\n    dangerouslySetInnerHTML: {\n      __html: translatedValue\n    }\n  }) : translatedValue;\n};\nexport var hasHtmlTags = function hasHtmlTags(value) {\n  var pattern = /(&[^\\s]*;|<\\/?\\w+((\\s+\\w+(\\s*=\\s*(?:\".*?\"|'.*?'|[\\^'\">\\s]+))?)+\\s*|\\s*)\\/?>)/;\n  return value.search(pattern) >= 0;\n};\n/**\n * @func templater\n * @desc A poor mans template parser \n * @param {string} strings The template string\n * @param {object} data The data that should be inserted in template\n * @return {string} The template string with the data merged in\n */\n\nexport var templater = function templater(strings) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  for (var prop in data) {\n    var pattern = '\\\\${\\\\s*' + prop + '\\\\s*}';\n    var regex = new RegExp(pattern, 'gmi');\n    strings = strings.replace(regex, data[prop]);\n  }\n\n  return strings;\n};\nexport var getIndexForLanguageCode = function getIndexForLanguageCode(code, languages) {\n  return languages.map(function (language) {\n    return language.code;\n  }).indexOf(code);\n};\nexport var objectValuesToString = function objectValuesToString(data) {\n  return !Object.values ? Object.keys(data).map(function (key) {\n    return data[key].toString();\n  }).toString() : Object.values(data).toString();\n};\nexport var validateOptions = function validateOptions(options) {\n  if (options.translationTransform !== undefined && typeof options.translationTransform !== 'function') {\n    throw new Error('react-localize-redux: Invalid translationTransform function.');\n  }\n\n  return options;\n};\nexport var getTranslationsForLanguage = function getTranslationsForLanguage(language, languages, translations) {\n  // no language! return no translations \n  if (!language) {\n    return {};\n  }\n\n  var languageCode = language.code;\n  var languageIndex = getIndexForLanguageCode(languageCode, languages);\n  return Object.keys(translations).reduce(function (prev, key) {\n    return _extends({}, prev, _defineProperty({}, key, translations[key][languageIndex]));\n  }, {});\n};\nexport var storeDidChange = function storeDidChange(store, onChange) {\n  var currentState = void 0;\n\n  function handleChange() {\n    var nextState = store.getState();\n\n    if (nextState !== currentState) {\n      onChange(currentState);\n      currentState = nextState;\n    }\n  }\n\n  var unsubscribe = store.subscribe(handleChange);\n  handleChange();\n  return unsubscribe;\n}; // Thanks react-redux for utility function\n// https://github.com/reactjs/react-redux/blob/master/src/utils/warning.js\n\nexport var warning = function warning(message) {\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {}\n};","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/pacs/node_modules/react-localize-redux/es/utils.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","defaultTranslateOptions","getLocalizedElement","translations","data","activeLanguage","options","undefined","onMissingTranslation","missingTranslationCallback","code","showMissingTranslationMsg","templater","missingTranslationMsg","localizedString","translatedValue","renderInnerHtml","hasHtmlTags","createElement","dangerouslySetInnerHTML","__html","pattern","search","strings","prop","regex","RegExp","replace","getIndexForLanguageCode","languages","map","language","indexOf","objectValuesToString","values","keys","toString","validateOptions","translationTransform","Error","getTranslationsForLanguage","languageCode","languageIndex","reduce","prev","storeDidChange","store","onChange","currentState","handleChange","nextState","getState","unsubscribe","subscribe","warning","message","console","error","e"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { defaultTranslateOptions } from './locale';\n\n\nexport var getLocalizedElement = function getLocalizedElement(key, translations, data, activeLanguage) {\n  var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : defaultTranslateOptions;\n\n  var onMissingTranslation = function onMissingTranslation() {\n    if (options.missingTranslationCallback) {\n      options.missingTranslationCallback(key, activeLanguage.code);\n    }\n    return options.showMissingTranslationMsg === false ? '' : templater(options.missingTranslationMsg || '', { key: key, code: activeLanguage.code });\n  };\n  var localizedString = translations[key] || onMissingTranslation();\n  var translatedValue = templater(localizedString, data);\n  return options.renderInnerHtml && hasHtmlTags(translatedValue) ? React.createElement('span', { dangerouslySetInnerHTML: { __html: translatedValue } }) : translatedValue;\n};\n\nexport var hasHtmlTags = function hasHtmlTags(value) {\n  var pattern = /(&[^\\s]*;|<\\/?\\w+((\\s+\\w+(\\s*=\\s*(?:\".*?\"|'.*?'|[\\^'\">\\s]+))?)+\\s*|\\s*)\\/?>)/;\n  return value.search(pattern) >= 0;\n};\n\n/**\n * @func templater\n * @desc A poor mans template parser \n * @param {string} strings The template string\n * @param {object} data The data that should be inserted in template\n * @return {string} The template string with the data merged in\n */\nexport var templater = function templater(strings) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  for (var prop in data) {\n    var pattern = '\\\\${\\\\s*' + prop + '\\\\s*}';\n    var regex = new RegExp(pattern, 'gmi');\n    strings = strings.replace(regex, data[prop]);\n  }\n  return strings;\n};\n\nexport var getIndexForLanguageCode = function getIndexForLanguageCode(code, languages) {\n  return languages.map(function (language) {\n    return language.code;\n  }).indexOf(code);\n};\n\nexport var objectValuesToString = function objectValuesToString(data) {\n  return !Object.values ? Object.keys(data).map(function (key) {\n    return data[key].toString();\n  }).toString() : Object.values(data).toString();\n};\n\nexport var validateOptions = function validateOptions(options) {\n  if (options.translationTransform !== undefined && typeof options.translationTransform !== 'function') {\n    throw new Error('react-localize-redux: Invalid translationTransform function.');\n  }\n  return options;\n};\n\nexport var getTranslationsForLanguage = function getTranslationsForLanguage(language, languages, translations) {\n  // no language! return no translations \n  if (!language) {\n    return {};\n  }\n\n  var languageCode = language.code;\n\n  var languageIndex = getIndexForLanguageCode(languageCode, languages);\n  return Object.keys(translations).reduce(function (prev, key) {\n    return _extends({}, prev, _defineProperty({}, key, translations[key][languageIndex]));\n  }, {});\n};\n\nexport var storeDidChange = function storeDidChange(store, onChange) {\n  var currentState = void 0;\n\n  function handleChange() {\n    var nextState = store.getState();\n    if (nextState !== currentState) {\n      onChange(currentState);\n      currentState = nextState;\n    }\n  }\n\n  var unsubscribe = store.subscribe(handleChange);\n  handleChange();\n  return unsubscribe;\n};\n\n// Thanks react-redux for utility function\n// https://github.com/reactjs/react-redux/blob/master/src/utils/warning.js\nexport var warning = function warning(message) {\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {}\n};"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport * as React from 'react';\nimport { combineReducers } from 'redux';\nimport { flatten } from 'flat';\nimport { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport { getLocalizedElement, getIndexForLanguageCode, objectValuesToString, validateOptions, getTranslationsForLanguage, warning } from './utils';\n/**\n * TYPES\n */\n\n/**\n * ACTIONS\n */\n\nexport var INITIALIZE = '@@localize/INITIALIZE';\nexport var ADD_TRANSLATION = '@@localize/ADD_TRANSLATION';\nexport var ADD_TRANSLATION_FOR_LANGUGE = '@@localize/ADD_TRANSLATION_FOR_LANGUGE';\nexport var SET_LANGUAGES = '@@localize/SET_LANGUAGES';\nexport var SET_ACTIVE_LANGUAGE = '@@localize/SET_ACTIVE_LANGUAGE';\nexport var TRANSLATE = '@@localize/TRANSLATE';\n/**\n * REDUCERS\n */\n\nexport function languages() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n    case SET_LANGUAGES:\n      var _options = action.payload.options || {};\n\n      var _activeLanguage = action.payload.activeLanguage || _options.defaultLanguage;\n\n      return action.payload.languages.map(function (language, index) {\n        var isActive = function isActive(code) {\n          return _activeLanguage !== undefined ? code === _activeLanguage : index === 0;\n        }; // check if it's using array of Language objects, or array of languge codes\n\n\n        return typeof language === 'string' ? {\n          code: language,\n          active: isActive(language) // language codes\n\n        } : _extends({}, language, {\n          active: isActive(language.code)\n        }); // language objects\n      });\n\n    case SET_ACTIVE_LANGUAGE:\n      return state.map(function (language) {\n        return language.code === action.payload.languageCode ? _extends({}, language, {\n          active: true\n        }) : _extends({}, language, {\n          active: false\n        });\n      });\n\n    default:\n      return state;\n  }\n}\nexport function translations() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments[1];\n\n  switch (action.type) {\n    case ADD_TRANSLATION:\n      // apply transformation if set in options\n      var _translations = action.translationTransform !== undefined ? action.translationTransform(action.payload.translation, action.languageCodes) : action.payload.translation;\n\n      return _extends({}, state, flatten(_translations, {\n        safe: true\n      }));\n\n    case ADD_TRANSLATION_FOR_LANGUGE:\n      var languageIndex = action.languageCodes.indexOf(action.payload.language);\n      var flattenedTranslations = languageIndex >= 0 ? flatten(action.payload.translation) : {}; // convert single translation data into multiple\n\n      var languageTranslations = Object.keys(flattenedTranslations).reduce(function (prev, cur) {\n        // loop through each language, and for languages that don't match active language \n        // keep existing translation data, and for active language store new translation data\n        var translationValues = action.languageCodes.map(function (code, index) {\n          var existingValues = state[cur] || [];\n          return index === languageIndex ? flattenedTranslations[cur] : existingValues[index];\n        });\n        return _extends({}, prev, _defineProperty({}, cur, translationValues));\n      }, {});\n      return _extends({}, state, languageTranslations);\n\n    default:\n      return state;\n  }\n}\nexport function options() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultTranslateOptions;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n      var _options2 = action.payload.options || {};\n\n      return _extends({}, state, validateOptions(_options2));\n\n    default:\n      return state;\n  }\n}\n;\nexport var defaultTranslateOptions = {\n  renderInnerHtml: true,\n  showMissingTranslationMsg: true,\n  missingTranslationMsg: 'Missing translation key ${ key } for language ${ code }',\n  ignoreTranslateChildren: false\n};\nvar initialState = {\n  languages: [],\n  translations: {},\n  options: defaultTranslateOptions\n};\nexport var localeReducer = function localeReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n  var languageCodes = state.languages.map(function (language) {\n    return language.code;\n  });\n  var translationTransform = state.options.translationTransform;\n  return {\n    languages: languages(state.languages, action),\n    translations: translations(state.translations, _extends({}, action, {\n      languageCodes: languageCodes,\n      translationTransform: translationTransform\n    })),\n    options: options(state.options, action)\n  };\n};\n/**\n * ACTION CREATORS\n */\n\nexport var initialize = function initialize(languages) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultTranslateOptions;\n  return {\n    type: INITIALIZE,\n    payload: {\n      languages: languages,\n      options: options\n    }\n  };\n};\nexport var addTranslation = function addTranslation(translation) {\n  return {\n    type: ADD_TRANSLATION,\n    payload: {\n      translation: translation\n    }\n  };\n};\nexport var addTranslationForLanguage = function addTranslationForLanguage(translation, language) {\n  return {\n    type: ADD_TRANSLATION_FOR_LANGUGE,\n    payload: {\n      translation: translation,\n      language: language\n    }\n  };\n};\nexport var setLanguages = function setLanguages(languages, activeLanguage) {\n  warning('The setLanguages action will be removed in the next major version. ' + 'Please use initialize action instead https://ryandrewjohnson.github.io/react-localize-redux/api/action-creators/#initializelanguages-options');\n  return {\n    type: SET_LANGUAGES,\n    payload: {\n      languages: languages,\n      activeLanguage: activeLanguage\n    }\n  };\n};\nexport var setActiveLanguage = function setActiveLanguage(languageCode) {\n  return {\n    type: SET_ACTIVE_LANGUAGE,\n    payload: {\n      languageCode: languageCode\n    }\n  };\n};\n/**\n * SELECTORS\n */\n\nexport var getTranslations = function getTranslations(state) {\n  return state.translations;\n};\nexport var getLanguages = function getLanguages(state) {\n  return state.languages;\n};\nexport var getOptions = function getOptions(state) {\n  return state.options;\n};\nexport var getActiveLanguage = function getActiveLanguage(state) {\n  var languages = getLanguages(state);\n  return languages.filter(function (language) {\n    return language.active === true;\n  })[0];\n};\n/**\n * A custom equality checker that checker that compares an objects keys and values instead of === comparison\n * e.g. {name: 'Ted', sport: 'hockey'} would result in 'name,sport - Ted,hocker' which would be used for comparison\n * \n * NOTE: This works with activeLanguage, languages, and translations data types.\n * If a new data type is added to selector this would need to be updated to accomodate\n */\n\nexport var translationsEqualSelector = createSelectorCreator(defaultMemoize, function (cur, prev) {\n  var prevKeys = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === \"object\" ? Object.keys(prev).toString() : undefined;\n  var curKeys = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === \"object\" ? Object.keys(cur).toString() : undefined;\n  var prevValues = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === \"object\" ? objectValuesToString(prev) : undefined;\n  var curValues = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === \"object\" ? objectValuesToString(cur) : undefined;\n  var prevCacheValue = !prevKeys || !prevValues ? prevKeys + ' - ' + prevValues : prev;\n  var curCacheValue = !curKeys || !curValues ? curKeys + ' - ' + curValues : cur;\n  return prevCacheValue === curCacheValue;\n});\nexport var getTranslationsForActiveLanguage = translationsEqualSelector(getActiveLanguage, getLanguages, getTranslations, getTranslationsForLanguage);\nexport var getTranslationsForSpecificLanguage = translationsEqualSelector(getLanguages, getTranslations, function (languages, translations) {\n  return defaultMemoize(function (languageCode) {\n    return getTranslationsForLanguage(languageCode, languages, translations);\n  });\n});\nvar getTranslate = createSelector(getTranslationsForActiveLanguage, getTranslationsForSpecificLanguage, getActiveLanguage, getOptions, function (translationsForActiveLanguage, getTranslationsForLanguage, activeLanguage, options) {\n  return function (value) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var optionsOverride = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var defaultLanguage = optionsOverride.defaultLanguage,\n        rest = _objectWithoutProperties(optionsOverride, ['defaultLanguage']);\n\n    var translateOptions = _extends({}, options, rest);\n\n    var translations = defaultLanguage !== undefined ? getTranslationsForLanguage({\n      code: defaultLanguage,\n      active: false\n    }) : translationsForActiveLanguage;\n\n    if (typeof value === 'string') {\n      return getLocalizedElement(value, translations, data, activeLanguage, translateOptions);\n    } else if (Array.isArray(value)) {\n      return value.reduce(function (prev, cur) {\n        return _extends({}, prev, _defineProperty({}, cur, getLocalizedElement(cur, translations, data, activeLanguage, translateOptions)));\n      }, {});\n    } else {\n      throw new Error('react-localize-redux: Invalid key passed to getTranslate.');\n    }\n  };\n});\nexport { getTranslate };\nexport var getTranslateComponent = createSelector(getTranslate, function (translate) {\n  return function (props) {\n    return translate(props.id, props.data, props.options);\n  };\n});","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/pacs/node_modules/react-localize-redux/es/locale.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","_objectWithoutProperties","keys","indexOf","_defineProperty","value","defineProperty","enumerable","configurable","writable","React","combineReducers","flatten","createSelector","createSelectorCreator","defaultMemoize","getLocalizedElement","getIndexForLanguageCode","objectValuesToString","validateOptions","getTranslationsForLanguage","warning","INITIALIZE","ADD_TRANSLATION","ADD_TRANSLATION_FOR_LANGUGE","SET_LANGUAGES","SET_ACTIVE_LANGUAGE","TRANSLATE","languages","state","undefined","action","type","_options","payload","options","_activeLanguage","activeLanguage","defaultLanguage","map","language","index","isActive","code","active","languageCode","translations","_translations","translationTransform","translation","languageCodes","safe","languageIndex","flattenedTranslations","languageTranslations","reduce","prev","cur","translationValues","existingValues","defaultTranslateOptions","_options2","renderInnerHtml","showMissingTranslationMsg","missingTranslationMsg","ignoreTranslateChildren","initialState","localeReducer","initialize","addTranslation","addTranslationForLanguage","setLanguages","setActiveLanguage","getTranslations","getLanguages","getOptions","getActiveLanguage","filter","translationsEqualSelector","prevKeys","toString","curKeys","prevValues","curValues","prevCacheValue","curCacheValue","getTranslationsForActiveLanguage","getTranslationsForSpecificLanguage","getTranslate","translationsForActiveLanguage","data","optionsOverride","rest","translateOptions","Array","isArray","Error","getTranslateComponent","translate","props","id"],"mappings":"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","sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport { combineReducers } from 'redux';\nimport { flatten } from 'flat';\nimport { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport { getLocalizedElement, getIndexForLanguageCode, objectValuesToString, validateOptions, getTranslationsForLanguage, warning } from './utils';\n\n/**\n * TYPES\n */\n\n\n/**\n * ACTIONS\n */\nexport var INITIALIZE = '@@localize/INITIALIZE';\nexport var ADD_TRANSLATION = '@@localize/ADD_TRANSLATION';\nexport var ADD_TRANSLATION_FOR_LANGUGE = '@@localize/ADD_TRANSLATION_FOR_LANGUGE';\nexport var SET_LANGUAGES = '@@localize/SET_LANGUAGES';\nexport var SET_ACTIVE_LANGUAGE = '@@localize/SET_ACTIVE_LANGUAGE';\nexport var TRANSLATE = '@@localize/TRANSLATE';\n\n/**\n * REDUCERS\n */\nexport function languages() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n    case SET_LANGUAGES:\n      var _options = action.payload.options || {};\n      var _activeLanguage = action.payload.activeLanguage || _options.defaultLanguage;\n      return action.payload.languages.map(function (language, index) {\n        var isActive = function isActive(code) {\n          return _activeLanguage !== undefined ? code === _activeLanguage : index === 0;\n        };\n        // check if it's using array of Language objects, or array of languge codes\n        return typeof language === 'string' ? { code: language, active: isActive(language) // language codes\n        } : _extends({}, language, { active: isActive(language.code) }); // language objects\n      });\n    case SET_ACTIVE_LANGUAGE:\n      return state.map(function (language) {\n        return language.code === action.payload.languageCode ? _extends({}, language, { active: true }) : _extends({}, language, { active: false });\n      });\n    default:\n      return state;\n  }\n}\n\nexport function translations() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments[1];\n\n  switch (action.type) {\n    case ADD_TRANSLATION:\n      // apply transformation if set in options\n      var _translations = action.translationTransform !== undefined ? action.translationTransform(action.payload.translation, action.languageCodes) : action.payload.translation;\n      return _extends({}, state, flatten(_translations, { safe: true }));\n    case ADD_TRANSLATION_FOR_LANGUGE:\n      var languageIndex = action.languageCodes.indexOf(action.payload.language);\n      var flattenedTranslations = languageIndex >= 0 ? flatten(action.payload.translation) : {};\n      // convert single translation data into multiple\n      var languageTranslations = Object.keys(flattenedTranslations).reduce(function (prev, cur) {\n        // loop through each language, and for languages that don't match active language \n        // keep existing translation data, and for active language store new translation data\n        var translationValues = action.languageCodes.map(function (code, index) {\n          var existingValues = state[cur] || [];\n          return index === languageIndex ? flattenedTranslations[cur] : existingValues[index];\n        });\n        return _extends({}, prev, _defineProperty({}, cur, translationValues));\n      }, {});\n\n      return _extends({}, state, languageTranslations);\n    default:\n      return state;\n  }\n}\n\nexport function options() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultTranslateOptions;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n      var _options2 = action.payload.options || {};\n      return _extends({}, state, validateOptions(_options2));\n    default:\n      return state;\n  }\n};\n\nexport var defaultTranslateOptions = {\n  renderInnerHtml: true,\n  showMissingTranslationMsg: true,\n  missingTranslationMsg: 'Missing translation key ${ key } for language ${ code }',\n  ignoreTranslateChildren: false\n};\n\nvar initialState = {\n  languages: [],\n  translations: {},\n  options: defaultTranslateOptions\n};\n\nexport var localeReducer = function localeReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  var languageCodes = state.languages.map(function (language) {\n    return language.code;\n  });\n  var translationTransform = state.options.translationTransform;\n  return {\n    languages: languages(state.languages, action),\n    translations: translations(state.translations, _extends({}, action, { languageCodes: languageCodes, translationTransform: translationTransform })),\n    options: options(state.options, action)\n  };\n};\n\n/**\n * ACTION CREATORS\n */\nexport var initialize = function initialize(languages) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultTranslateOptions;\n  return {\n    type: INITIALIZE,\n    payload: { languages: languages, options: options }\n  };\n};\n\nexport var addTranslation = function addTranslation(translation) {\n  return {\n    type: ADD_TRANSLATION,\n    payload: { translation: translation }\n  };\n};\n\nexport var addTranslationForLanguage = function addTranslationForLanguage(translation, language) {\n  return {\n    type: ADD_TRANSLATION_FOR_LANGUGE,\n    payload: { translation: translation, language: language }\n  };\n};\n\nexport var setLanguages = function setLanguages(languages, activeLanguage) {\n  warning('The setLanguages action will be removed in the next major version. ' + 'Please use initialize action instead https://ryandrewjohnson.github.io/react-localize-redux/api/action-creators/#initializelanguages-options');\n  return {\n    type: SET_LANGUAGES,\n    payload: { languages: languages, activeLanguage: activeLanguage }\n  };\n};\n\nexport var setActiveLanguage = function setActiveLanguage(languageCode) {\n  return {\n    type: SET_ACTIVE_LANGUAGE,\n    payload: { languageCode: languageCode }\n  };\n};\n\n/**\n * SELECTORS\n */\nexport var getTranslations = function getTranslations(state) {\n  return state.translations;\n};\n\nexport var getLanguages = function getLanguages(state) {\n  return state.languages;\n};\n\nexport var getOptions = function getOptions(state) {\n  return state.options;\n};\n\nexport var getActiveLanguage = function getActiveLanguage(state) {\n  var languages = getLanguages(state);\n  return languages.filter(function (language) {\n    return language.active === true;\n  })[0];\n};\n\n/**\n * A custom equality checker that checker that compares an objects keys and values instead of === comparison\n * e.g. {name: 'Ted', sport: 'hockey'} would result in 'name,sport - Ted,hocker' which would be used for comparison\n * \n * NOTE: This works with activeLanguage, languages, and translations data types.\n * If a new data type is added to selector this would need to be updated to accomodate\n */\nexport var translationsEqualSelector = createSelectorCreator(defaultMemoize, function (cur, prev) {\n  var prevKeys = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === \"object\" ? Object.keys(prev).toString() : undefined;\n  var curKeys = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === \"object\" ? Object.keys(cur).toString() : undefined;\n\n  var prevValues = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === \"object\" ? objectValuesToString(prev) : undefined;\n  var curValues = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === \"object\" ? objectValuesToString(cur) : undefined;\n\n  var prevCacheValue = !prevKeys || !prevValues ? prevKeys + ' - ' + prevValues : prev;\n\n  var curCacheValue = !curKeys || !curValues ? curKeys + ' - ' + curValues : cur;\n\n  return prevCacheValue === curCacheValue;\n});\n\nexport var getTranslationsForActiveLanguage = translationsEqualSelector(getActiveLanguage, getLanguages, getTranslations, getTranslationsForLanguage);\n\nexport var getTranslationsForSpecificLanguage = translationsEqualSelector(getLanguages, getTranslations, function (languages, translations) {\n  return defaultMemoize(function (languageCode) {\n    return getTranslationsForLanguage(languageCode, languages, translations);\n  });\n});\n\nvar getTranslate = createSelector(getTranslationsForActiveLanguage, getTranslationsForSpecificLanguage, getActiveLanguage, getOptions, function (translationsForActiveLanguage, getTranslationsForLanguage, activeLanguage, options) {\n  return function (value) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var optionsOverride = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var defaultLanguage = optionsOverride.defaultLanguage,\n        rest = _objectWithoutProperties(optionsOverride, ['defaultLanguage']);\n\n    var translateOptions = _extends({}, options, rest);\n    var translations = defaultLanguage !== undefined ? getTranslationsForLanguage({ code: defaultLanguage, active: false }) : translationsForActiveLanguage;\n    if (typeof value === 'string') {\n      return getLocalizedElement(value, translations, data, activeLanguage, translateOptions);\n    } else if (Array.isArray(value)) {\n      return value.reduce(function (prev, cur) {\n        return _extends({}, prev, _defineProperty({}, cur, getLocalizedElement(cur, translations, data, activeLanguage, translateOptions)));\n      }, {});\n    } else {\n      throw new Error('react-localize-redux: Invalid key passed to getTranslate.');\n    }\n  };\n});\n\nexport { getTranslate };\nexport var getTranslateComponent = createSelector(getTranslate, function (translate) {\n  return function (props) {\n    return translate(props.id, props.data, props.options);\n  };\n});"]},"metadata":{},"sourceType":"module"}
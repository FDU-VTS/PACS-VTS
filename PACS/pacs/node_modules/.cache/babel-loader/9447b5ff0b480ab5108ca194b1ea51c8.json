{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _invoke from 'lodash/invoke';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport Portal from '../Portal';\nimport Transition from '../../modules/Transition';\nimport { getUnhandledProps, META } from '../../lib';\n/**\n * A sugar for `Portal` and `Transition`.\n * @see Portal\n * @see Transition\n */\n\nvar TransitionablePortal = function (_Component) {\n  _inherits(TransitionablePortal, _Component);\n\n  function TransitionablePortal(props) {\n    _classCallCheck(this, TransitionablePortal);\n\n    var _this = _possibleConstructorReturn(this, (TransitionablePortal.__proto__ || Object.getPrototypeOf(TransitionablePortal)).call(this, props));\n\n    _this.handlePortalClose = function () {\n      _this.setState({\n        portalOpen: false\n      });\n    };\n\n    _this.handlePortalOpen = function () {\n      _this.setState({\n        portalOpen: true\n      });\n    };\n\n    _this.handleTransitionHide = function (nothing, data) {\n      var portalOpen = _this.state.portalOpen;\n\n      _this.setState({\n        transitionVisible: false\n      });\n\n      _invoke(_this.props, 'onClose', null, _extends({}, data, {\n        portalOpen: false,\n        transitionVisible: false\n      }));\n\n      _invoke(_this.props, 'onHide', null, _extends({}, data, {\n        portalOpen: portalOpen,\n        transitionVisible: false\n      }));\n    };\n\n    _this.handleTransitionStart = function (nothing, data) {\n      var portalOpen = _this.state.portalOpen;\n      var status = data.status;\n      var transitionVisible = status === Transition.ENTERING;\n\n      _invoke(_this.props, 'onStart', null, _extends({}, data, {\n        portalOpen: portalOpen,\n        transitionVisible: transitionVisible\n      })); // Heads up! TransitionablePortal fires onOpen callback on the start of transition animation\n\n\n      if (!transitionVisible) return;\n\n      _this.setState({\n        transitionVisible: transitionVisible\n      });\n\n      _invoke(_this.props, 'onOpen', null, _extends({}, data, {\n        transitionVisible: transitionVisible,\n        portalOpen: true\n      }));\n    };\n\n    _this.state = {\n      portalOpen: props.open\n    };\n    return _this;\n  } // ----------------------------------------\n  // Lifecycle\n  // ----------------------------------------\n\n\n  _createClass(TransitionablePortal, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var open = _ref.open;\n      this.setState({\n        portalOpen: open\n      });\n    } // ----------------------------------------\n    // Callback handling\n    // ----------------------------------------\n\n  }, {\n    key: 'render',\n    // ----------------------------------------\n    // Render\n    // ----------------------------------------\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          transition = _props.transition;\n      var _state = this.state,\n          portalOpen = _state.portalOpen,\n          transitionVisible = _state.transitionVisible;\n      var open = portalOpen || transitionVisible;\n      var rest = getUnhandledProps(TransitionablePortal, this.props);\n      return React.createElement(Portal, _extends({}, rest, {\n        open: open,\n        onOpen: this.handlePortalOpen,\n        onClose: this.handlePortalClose\n      }), React.createElement(Transition, _extends({}, transition, {\n        transitionOnMount: true,\n        onStart: this.handleTransitionStart,\n        onHide: this.handleTransitionHide,\n        visible: portalOpen\n      }), children));\n    }\n  }]);\n\n  return TransitionablePortal;\n}(Component);\n\nTransitionablePortal._meta = {\n  name: 'TransitionablePortal',\n  type: META.TYPES.ADDON\n};\nTransitionablePortal.defaultProps = {\n  transition: {\n    animation: 'scale',\n    duration: 400\n  }\n};\nTransitionablePortal.handledProps = ['children', 'onClose', 'onHide', 'onOpen', 'onStart', 'open', 'transition'];\nexport default TransitionablePortal;\nTransitionablePortal.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** Primary content. */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and internal state.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback on each transition that changes visibility to hidden.\n   *\n   * @param {null}\n   * @param {object} data - All props with transition status and internal state.\n   */\n  onHide: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and internal state.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback on animation start.\n   *\n   * @param {null}\n   * @param {object} data - All props with transition status and internal state.\n   */\n  onStart: PropTypes.func,\n\n  /** Controls whether or not the portal is displayed. */\n  open: PropTypes.bool,\n\n  /** Transition props. */\n  transition: PropTypes.object\n} : {};","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/pacs/node_modules/semantic-ui-react/dist/es/addons/TransitionablePortal/TransitionablePortal.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","_invoke","PropTypes","React","Component","Portal","Transition","getUnhandledProps","META","TransitionablePortal","_Component","props","_this","__proto__","Object","getPrototypeOf","call","handlePortalClose","setState","portalOpen","handlePortalOpen","handleTransitionHide","nothing","data","state","transitionVisible","handleTransitionStart","status","ENTERING","open","key","value","componentWillReceiveProps","_ref","render","_props","children","transition","_state","rest","createElement","onOpen","onClose","transitionOnMount","onStart","onHide","visible","_meta","name","type","TYPES","ADDON","defaultProps","animation","duration","handledProps","propTypes","process","env","NODE_ENV","node","isRequired","func","bool","object"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _invoke from 'lodash/invoke';\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport Portal from '../Portal';\nimport Transition from '../../modules/Transition';\nimport { getUnhandledProps, META } from '../../lib';\n\n/**\n * A sugar for `Portal` and `Transition`.\n * @see Portal\n * @see Transition\n */\nvar TransitionablePortal = function (_Component) {\n  _inherits(TransitionablePortal, _Component);\n\n  function TransitionablePortal(props) {\n    _classCallCheck(this, TransitionablePortal);\n\n    var _this = _possibleConstructorReturn(this, (TransitionablePortal.__proto__ || Object.getPrototypeOf(TransitionablePortal)).call(this, props));\n\n    _this.handlePortalClose = function () {\n\n      _this.setState({ portalOpen: false });\n    };\n\n    _this.handlePortalOpen = function () {\n\n      _this.setState({ portalOpen: true });\n    };\n\n    _this.handleTransitionHide = function (nothing, data) {\n      var portalOpen = _this.state.portalOpen;\n\n\n      _this.setState({ transitionVisible: false });\n      _invoke(_this.props, 'onClose', null, _extends({}, data, { portalOpen: false, transitionVisible: false }));\n      _invoke(_this.props, 'onHide', null, _extends({}, data, { portalOpen: portalOpen, transitionVisible: false }));\n    };\n\n    _this.handleTransitionStart = function (nothing, data) {\n      var portalOpen = _this.state.portalOpen;\n      var status = data.status;\n\n      var transitionVisible = status === Transition.ENTERING;\n\n      _invoke(_this.props, 'onStart', null, _extends({}, data, { portalOpen: portalOpen, transitionVisible: transitionVisible }));\n\n      // Heads up! TransitionablePortal fires onOpen callback on the start of transition animation\n      if (!transitionVisible) return;\n\n      _this.setState({ transitionVisible: transitionVisible });\n      _invoke(_this.props, 'onOpen', null, _extends({}, data, { transitionVisible: transitionVisible, portalOpen: true }));\n    };\n\n    _this.state = {\n      portalOpen: props.open\n    };\n    return _this;\n  }\n\n  // ----------------------------------------\n  // Lifecycle\n  // ----------------------------------------\n\n  _createClass(TransitionablePortal, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var open = _ref.open;\n\n\n      this.setState({ portalOpen: open });\n    }\n\n    // ----------------------------------------\n    // Callback handling\n    // ----------------------------------------\n\n  }, {\n    key: 'render',\n\n\n    // ----------------------------------------\n    // Render\n    // ----------------------------------------\n\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          transition = _props.transition;\n      var _state = this.state,\n          portalOpen = _state.portalOpen,\n          transitionVisible = _state.transitionVisible;\n\n\n      var open = portalOpen || transitionVisible;\n      var rest = getUnhandledProps(TransitionablePortal, this.props);\n\n      return React.createElement(\n        Portal,\n        _extends({}, rest, {\n          open: open,\n          onOpen: this.handlePortalOpen,\n          onClose: this.handlePortalClose\n        }),\n        React.createElement(\n          Transition,\n          _extends({}, transition, {\n            transitionOnMount: true,\n            onStart: this.handleTransitionStart,\n            onHide: this.handleTransitionHide,\n            visible: portalOpen\n          }),\n          children\n        )\n      );\n    }\n  }]);\n\n  return TransitionablePortal;\n}(Component);\n\nTransitionablePortal._meta = {\n  name: 'TransitionablePortal',\n  type: META.TYPES.ADDON\n};\nTransitionablePortal.defaultProps = {\n  transition: {\n    animation: 'scale',\n    duration: 400\n  }\n};\nTransitionablePortal.handledProps = ['children', 'onClose', 'onHide', 'onOpen', 'onStart', 'open', 'transition'];\nexport default TransitionablePortal;\nTransitionablePortal.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** Primary content. */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and internal state.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback on each transition that changes visibility to hidden.\n   *\n   * @param {null}\n   * @param {object} data - All props with transition status and internal state.\n   */\n  onHide: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and internal state.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Callback on animation start.\n   *\n   * @param {null}\n   * @param {object} data - All props with transition status and internal state.\n   */\n  onStart: PropTypes.func,\n\n  /** Controls whether or not the portal is displayed. */\n  open: PropTypes.bool,\n\n  /** Transition props. */\n  transition: PropTypes.object\n} : {};"]},"metadata":{},"sourceType":"module"}
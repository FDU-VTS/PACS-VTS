{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _get2 from 'babel-runtime/helpers/get';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _compact from 'lodash/compact';\nimport _map from 'lodash/map';\nimport _every from 'lodash/every';\nimport _without from 'lodash/without';\nimport _findIndex from 'lodash/findIndex';\nimport _find from 'lodash/find';\nimport _reduce from 'lodash/reduce';\nimport _some from 'lodash/some';\nimport _escapeRegExp from 'lodash/escapeRegExp';\nimport _deburr from 'lodash/deburr';\nimport _isFunction from 'lodash/isFunction';\nimport _filter from 'lodash/filter';\nimport _dropRight from 'lodash/dropRight';\nimport _isEmpty from 'lodash/isEmpty';\nimport _size from 'lodash/size';\nimport _union from 'lodash/union';\nimport _get from 'lodash/get';\nimport _includes from 'lodash/includes';\nimport _isUndefined from 'lodash/isUndefined';\nimport _invoke from 'lodash/invoke';\nimport _isEqual from 'lodash/isEqual';\nimport _has from 'lodash/has';\nimport _isNil from 'lodash/isNil';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement } from 'react';\nimport { AutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, eventStack, getElementType, getUnhandledProps, keyboardKey, META, objectDiff, shallowEqual, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\n\nvar Dropdown = function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Dropdown);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (e, value) {\n      _invoke(_this.props, 'onChange', e, _extends({}, _this.props, {\n        value: value\n      }));\n    }, _this.closeOnChange = function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n      if (shouldClose) _this.close(e);\n    }, _this.closeOnEscape = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close();\n    }, _this.moveSelectionOnKeyDown = function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n      var moves = (_moves = {}, _defineProperty(_moves, keyboardKey.ArrowDown, 1), _defineProperty(_moves, keyboardKey.ArrowUp, -1), _moves);\n      var move = moves[keyboardKey.getCode(e)];\n      if (move === undefined) return;\n      e.preventDefault();\n\n      _this.moveSelectionBy(move);\n\n      if (!multiple && selectOnNavigation) _this.makeSelectedItemActive(e);\n    }, _this.openOnSpace = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Spacebar) return;\n      if (_this.state.open) return;\n      e.preventDefault();\n\n      _this.open(e);\n    }, _this.openOnArrow = function (e) {\n      var code = keyboardKey.getCode(e);\n      if (!_includes([keyboardKey.ArrowDown, keyboardKey.ArrowUp], code)) return;\n      if (_this.state.open) return;\n      e.preventDefault();\n\n      _this.open(e);\n    }, _this.makeSelectedItemActive = function (e) {\n      var open = _this.state.open;\n      var multiple = _this.props.multiple;\n\n      var item = _this.getSelectedItem();\n\n      var value = _get(item, 'value'); // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n\n\n      if (_isNil(value) || !open) return; // state value may be undefined\n\n      var newValue = multiple ? _union(_this.state.value, [value]) : value; // notify the onChange prop that the user is trying to change value\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (item['data-additional']) _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n        value: value\n      }));\n    }, _this.selectItemOnEnter = function (e) {\n      var search = _this.props.search;\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n      e.preventDefault();\n\n      var optionSize = _size(_this.getMenuOptions());\n\n      if (search && optionSize === 0) return;\n\n      _this.makeSelectedItemActive(e);\n\n      _this.closeOnChange(e);\n\n      _this.clearSearchQuery();\n\n      if (search && _this.searchRef) _this.searchRef.focus();\n    }, _this.removeItemOnBackspace = function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state = _this.state,\n          searchQuery = _this$state.searchQuery,\n          value = _this$state.value;\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault(); // remove most recent value\n\n      var newValue = _dropRight(value);\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    }, _this.closeOnDocumentClick = function (e) {\n      if (!_this.props.closeOnBlur) return; // If event happened in the dropdown, ignore it\n\n      if (_this.ref && doesNodeContainClick(_this.ref, e)) return;\n\n      _this.close();\n    }, _this.attachHandlersOnOpen = function () {\n      eventStack.sub('keydown', [_this.closeOnEscape, _this.moveSelectionOnKeyDown, _this.selectItemOnEnter, _this.removeItemOnBackspace]);\n      eventStack.sub('click', _this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [_this.openOnArrow, _this.openOnSpace]);\n    }, _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n    }, _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    }, _this.handleClick = function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state2 = _this.state,\n          open = _this$state2.open,\n          searchQuery = _this$state2.searchQuery;\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent closeOnDocumentClick()\n\n\n      e.stopPropagation();\n      if (!search) return _this.toggle(e);\n      if (open) return;\n\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n\n        return;\n      }\n\n      if (_this.searchRef) _this.searchRef.focus();\n    }, _this.handleIconClick = function (e) {\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent handleClick()\n\n\n      e.stopPropagation();\n\n      _this.toggle(e);\n    }, _this.handleItemClick = function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var value = item.value; // prevent toggle() in handleClick()\n\n      e.stopPropagation(); // prevent closeOnDocumentClick() if multiple or item is disabled\n\n      if (multiple || item.disabled) e.nativeEvent.stopImmediatePropagation();\n      if (item.disabled) return;\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value; // notify the onChange prop that the user is trying to change value\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(value);\n\n      var optionSize = _size(_this.getMenuOptions());\n\n      if (!multiple || isAdditionItem || optionSize === 1) _this.clearSearchQuery();\n\n      _this.handleChange(e, newValue);\n\n      _this.closeOnChange(e); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (isAdditionItem) _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n        value: value\n      }));\n      if (multiple && search && _this.searchRef) _this.searchRef.focus();\n    }, _this.handleFocus = function (e) {\n      var focus = _this.state.focus;\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    }, _this.handleBlur = function (e) {\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          onBlur = _this$props6.onBlur,\n          selectOnBlur = _this$props6.selectOnBlur; // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n      if (onBlur) onBlur(e, _this.props);\n\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e);\n\n        if (closeOnBlur) _this.close();\n      }\n\n      _this.setState({\n        focus: false\n      });\n\n      _this.clearSearchQuery();\n    }, _this.handleSearchChange = function (e, _ref2) {\n      var value = _ref2.value; // prevent propagating to this.props.onChange()\n\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        searchQuery: newQuery\n      }));\n\n      _this.trySetState({\n        searchQuery: newQuery\n      }, {\n        selectedIndex: 0\n      }); // open search dropdown on search query\n\n\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n\n        return;\n      } // close search dropdown if search query is too small\n\n\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    }, _this.getMenuOptions = function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var _this$props7 = _this.props,\n          additionLabel = _this$props7.additionLabel,\n          additionPosition = _this$props7.additionPosition,\n          allowAdditions = _this$props7.allowAdditions,\n          deburr = _this$props7.deburr,\n          multiple = _this$props7.multiple,\n          search = _this$props7.search;\n      var searchQuery = _this.state.searchQuery;\n      var filteredOptions = options; // filter out active options\n\n      if (multiple) {\n        filteredOptions = _filter(filteredOptions, function (opt) {\n          return !_includes(value, opt.value);\n        });\n      } // filter by search query\n\n\n      if (search && searchQuery) {\n        if (_isFunction(search)) {\n          filteredOptions = search(filteredOptions, searchQuery);\n        } else {\n          // remove diacritics on search input and options, if deburr prop is set\n          var strippedQuery = deburr ? _deburr(searchQuery) : searchQuery;\n          var re = new RegExp(_escapeRegExp(strippedQuery), 'i');\n          filteredOptions = _filter(filteredOptions, function (opt) {\n            return re.test(deburr ? _deburr(opt.text) : opt.text);\n          });\n        }\n      } // insert the \"add\" item\n\n\n      if (allowAdditions && search && searchQuery && !_some(filteredOptions, {\n        text: searchQuery\n      })) {\n        var additionLabelElement = React.isValidElement(additionLabel) ? React.cloneElement(additionLabel, {\n          key: 'addition-label'\n        }) : additionLabel || '';\n        var addItem = {\n          key: 'addition',\n          // by using an array, we can pass multiple elements, but when doing so\n          // we must specify a `key` for React to know which one is which\n          text: [additionLabelElement, React.createElement('b', {\n            key: 'addition-query'\n          }, searchQuery)],\n          value: searchQuery,\n          className: 'addition',\n          'data-additional': true\n        };\n        if (additionPosition === 'top') filteredOptions.unshift(addItem);else filteredOptions.push(addItem);\n      }\n\n      return filteredOptions;\n    }, _this.getSelectedItem = function () {\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions();\n\n      return _get(options, '[' + selectedIndex + ']');\n    }, _this.getEnabledIndices = function (givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _reduce(options, function (memo, item, index) {\n        if (!item.disabled) memo.push(index);\n        return memo;\n      }, []);\n    }, _this.getItemByValue = function (value) {\n      var options = _this.props.options;\n      return _find(options, {\n        value: value\n      });\n    }, _this.getMenuItemIndexByValue = function (value, givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _findIndex(options, ['value', value]);\n    }, _this.getDropdownAriaOptions = function () {\n      var _this$props8 = _this.props,\n          loading = _this$props8.loading,\n          disabled = _this$props8.disabled,\n          search = _this$props8.search,\n          multiple = _this$props8.multiple;\n      var open = _this.state.open;\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n\n      return ariaOptions;\n    }, _this.clearSearchQuery = function () {\n      _this.trySetState({\n        searchQuery: ''\n      });\n    }, _this.setValue = function (value) {\n      _this.trySetState({\n        value: value\n      });\n    }, _this.setSelectedIndex = function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var optionsProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var multiple = _this.props.multiple;\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions(value, optionsProps);\n\n      var enabledIndicies = _this.getEnabledIndices(options);\n\n      var newSelectedIndex = void 0; // update the selected index\n\n      if (!selectedIndex || selectedIndex < 0) {\n        var firstIndex = enabledIndicies[0]; // Select the currently active item, if none, use the first item.\n        // Multiple selects remove active items from the list,\n        // their initial selected index should be 0.\n\n        newSelectedIndex = multiple ? firstIndex : _this.getMenuItemIndexByValue(value, options) || enabledIndicies[0];\n      } else if (multiple) {\n        // multiple selects remove options from the menu as they are made active\n        // keep the selected index within range of the remaining items\n        if (selectedIndex >= options.length - 1) {\n          newSelectedIndex = enabledIndicies[enabledIndicies.length - 1];\n        }\n      } else {\n        var activeIndex = _this.getMenuItemIndexByValue(value, options); // regular selects can only have one active item\n        // set the selected index to the currently active item\n\n\n        newSelectedIndex = _includes(enabledIndicies, activeIndex) ? activeIndex : undefined;\n      }\n\n      if (!newSelectedIndex || newSelectedIndex < 0) {\n        newSelectedIndex = enabledIndicies[0];\n      }\n\n      _this.setState({\n        selectedIndex: newSelectedIndex\n      });\n    }, _this.handleLabelClick = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({\n        selectedLabel: labelProps.value\n      });\n\n      var onLabelClick = _this.props.onLabelClick;\n      if (onLabelClick) onLabelClick(e, labelProps);\n    }, _this.handleLabelRemove = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    }, _this.moveSelectionBy = function (offset) {\n      var startIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions(); // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n\n\n      if (options === undefined || _every(options, 'disabled')) return;\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset; // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n\n      if (options[nextIndex].disabled) {\n        _this.moveSelectionBy(offset, nextIndex);\n\n        return;\n      }\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n\n      _this.scrollSelectedItemIntoView();\n    }, _this.handleIconOverrides = function (predefinedProps) {\n      return {\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n\n          _this.handleIconClick(e);\n        }\n      };\n    }, _this.handleSearchRef = function (c) {\n      return _this.searchRef = c;\n    }, _this.handleSizerRef = function (c) {\n      return _this.sizerRef = c;\n    }, _this.handleRef = function (c) {\n      return _this.ref = c;\n    }, _this.computeSearchInputTabIndex = function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          tabIndex = _this$props9.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    }, _this.computeSearchInputWidth = function () {\n      var searchQuery = _this.state.searchQuery;\n\n      if (_this.sizerRef && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n        _this.sizerRef.style.display = 'inline';\n        _this.sizerRef.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.getBoundingClientRect().width);\n\n        _this.sizerRef.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    }, _this.computeTabIndex = function () {\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search,\n          tabIndex = _this$props10.tabIndex; // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    }, _this.scrollSelectedItemIntoView = function () {\n      if (!_this.ref) return;\n\n      var menu = _this.ref.querySelector('.menu.visible');\n\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    }, _this.open = function (e) {\n      var _this$props11 = _this.props,\n          disabled = _this$props11.disabled,\n          onOpen = _this$props11.onOpen,\n          search = _this$props11.search;\n      if (disabled) return;\n      if (search && _this.searchRef) _this.searchRef.focus();\n      if (onOpen) onOpen(e, _this.props);\n\n      _this.trySetState({\n        open: true\n      });\n\n      _this.scrollSelectedItemIntoView();\n    }, _this.close = function (e) {\n      var onClose = _this.props.onClose;\n      if (onClose) onClose(e, _this.props);\n\n      _this.trySetState({\n        open: false\n      });\n    }, _this.handleClose = function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef;\n      var hasDropdownFocus = document.activeElement === _this.ref;\n      var hasFocus = hasSearchFocus || hasDropdownFocus; // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n\n      if (!hasSearchFocus) {\n        _this.ref.blur();\n      } // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n\n\n      _this.setState({\n        focus: hasFocus\n      });\n    }, _this.toggle = function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    }, _this.renderText = function () {\n      var _this$props12 = _this.props,\n          multiple = _this$props12.multiple,\n          placeholder = _this$props12.placeholder,\n          search = _this$props12.search,\n          text = _this$props12.text;\n      var _this$state3 = _this.state,\n          searchQuery = _this$state3.searchQuery,\n          value = _this$state3.value,\n          open = _this$state3.open;\n      var hasValue = multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n\n      if (searchQuery) {\n        _text = null;\n      } else if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        _text = _get(_this.getSelectedItem(), 'text');\n      } else if (hasValue) {\n        _text = _get(_this.getItemByValue(value), 'text');\n      }\n\n      return React.createElement('div', {\n        className: classes,\n        role: 'alert',\n        'aria-live': 'polite'\n      }, _text);\n    }, _this.renderSearchInput = function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          searchInput = _this$props13.searchInput;\n      var searchQuery = _this.state.searchQuery;\n      if (!search) return null;\n      return DropdownSearchInput.create(searchInput, {\n        defaultProps: {\n          inputRef: _this.handleSearchRef,\n          onChange: _this.handleSearchChange,\n          style: {\n            width: _this.computeSearchInputWidth()\n          },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        }\n      });\n    }, _this.renderSearchSizer = function () {\n      var _this$props14 = _this.props,\n          search = _this$props14.search,\n          multiple = _this$props14.multiple;\n      if (!(search && multiple)) return null;\n      return React.createElement('span', {\n        className: 'sizer',\n        ref: _this.handleSizerRef\n      });\n    }, _this.renderLabels = function () {\n      var _this$props15 = _this.props,\n          multiple = _this$props15.multiple,\n          renderLabel = _this$props15.renderLabel;\n      var _this$state4 = _this.state,\n          selectedLabel = _this$state4.selectedLabel,\n          value = _this$state4.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n\n      var selectedItems = _map(value, _this.getItemByValue); // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n\n\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n        return Label.create(renderLabel(item, index, defaultProps), {\n          defaultProps: defaultProps\n        });\n      });\n    }, _this.renderOptions = function () {\n      var _this$props16 = _this.props,\n          multiple = _this$props16.multiple,\n          search = _this$props16.search,\n          noResultsMessage = _this$props16.noResultsMessage;\n      var _this$state5 = _this.state,\n          selectedIndex = _this$state5.selectedIndex,\n          value = _this$state5.value;\n\n      var options = _this.getMenuOptions();\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return React.createElement('div', {\n          className: 'message'\n        }, noResultsMessage);\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_extends({\n          active: isActive(opt.value),\n          onClick: _this.handleItemClick,\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _extends({}, opt.style, {\n            pointerEvents: 'all'\n          })\n        }));\n      });\n    }, _this.renderMenu = function () {\n      var _this$props17 = _this.props,\n          children = _this$props17.children,\n          direction = _this$props17.direction,\n          header = _this$props17.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions(); // single menu child\n\n\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n        return cloneElement(menuChild, _extends({\n          className: className\n        }, ariaOptions));\n      }\n\n      return React.createElement(DropdownMenu, _extends({}, ariaOptions, {\n        direction: direction,\n        open: open\n      }), DropdownHeader.create(header), _this.renderOptions());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Dropdown, [{\n    key: 'getInitialAutoControlledState',\n    value: function getInitialAutoControlledState() {\n      return {\n        searchQuery: ''\n      };\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _state = this.state,\n          open = _state.open,\n          value = _state.value;\n      this.setValue(value);\n      this.setSelectedIndex(value);\n\n      if (open) {\n        this.open();\n        this.attachHandlersOnOpen();\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      _get2(Dropdown.prototype.__proto__ || Object.getPrototypeOf(Dropdown.prototype), 'componentWillReceiveProps', this).call(this, nextProps);\n      /* eslint-disable no-console */\n\n\n      if (process.env.NODE_ENV !== 'production') {\n        // in development, validate value type matches dropdown type\n        var isNextValueArray = Array.isArray(nextProps.value);\n\n        var hasValue = _has(nextProps, 'value');\n\n        if (hasValue && nextProps.multiple && !isNextValueArray) {\n          console.error('Dropdown `value` must be an array when `multiple` is set.' + (' Received type: `' + Object.prototype.toString.call(nextProps.value) + '`.'));\n        } else if (hasValue && !nextProps.multiple && isNextValueArray) {\n          console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n        }\n      }\n      /* eslint-enable no-console */\n\n\n      if (!shallowEqual(nextProps.value, this.props.value)) {\n        this.setValue(nextProps.value);\n        this.setSelectedIndex(nextProps.value);\n      }\n\n      if (!_isEqual(nextProps.options, this.props.options)) {\n        this.setSelectedIndex(undefined, nextProps.options);\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      // focused / blurred\n      // eslint-disable-line complexity\n      if (!prevState.focus && this.state.focus) {\n        if (!this.isMouseDown) {\n          var _props = this.props,\n              minCharacters = _props.minCharacters,\n              openOnFocus = _props.openOnFocus,\n              search = _props.search;\n          var openable = !search || search && minCharacters === 1;\n          if (openOnFocus && openable) this.open();\n        }\n\n        if (!this.state.open) {\n          eventStack.sub('keydown', [this.openOnArrow, this.openOnSpace]);\n        } else {\n          eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        }\n\n        eventStack.sub('keydown', this.removeItemOnBackspace);\n      } else if (prevState.focus && !this.state.focus) {\n        var closeOnBlur = this.props.closeOnBlur;\n\n        if (!this.isMouseDown && closeOnBlur) {\n          this.close();\n        }\n\n        eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace]);\n      } // opened / closed\n\n\n      if (!prevState.open && this.state.open) {\n        this.attachHandlersOnOpen();\n        this.scrollSelectedItemIntoView();\n      } else if (prevState.open && !this.state.open) {\n        this.handleClose();\n        eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        eventStack.unsub('click', this.closeOnDocumentClick);\n\n        if (!this.state.focus) {\n          eventStack.unsub('keydown', this.removeItemOnBackspace);\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace, this.closeOnEscape]);\n      eventStack.unsub('click', this.closeOnDocumentClick);\n    } // ----------------------------------------\n    // Document Event Handlers\n    // ----------------------------------------\n    // onChange needs to receive a value\n    // can't rely on props.value if we are controlled\n    // ----------------------------------------\n    // Component Event Handlers\n    // ----------------------------------------\n    // ----------------------------------------\n    // Getters\n    // ----------------------------------------\n    // There are times when we need to calculate the options based on a value\n    // that hasn't yet been persisted to state.\n\n  }, {\n    key: 'getDropdownMenuAriaOptions',\n    value: function getDropdownMenuAriaOptions() {\n      var _props2 = this.props,\n          search = _props2.search,\n          multiple = _props2.multiple;\n      var ariaOptions = {};\n\n      if (search) {\n        ariaOptions['aria-multiselectable'] = multiple;\n        ariaOptions.role = 'listbox';\n      }\n\n      return ariaOptions;\n    } // ----------------------------------------\n    // Setters\n    // ----------------------------------------\n    // ----------------------------------------\n    // Overrides\n    // ----------------------------------------\n    // ----------------------------------------\n    // Refs\n    // ----------------------------------------\n    // ----------------------------------------\n    // Helpers\n    // ----------------------------------------\n    // ----------------------------------------\n    // Behavior\n    // ----------------------------------------\n    // ----------------------------------------\n    // Render\n    // ----------------------------------------\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          basic = _props3.basic,\n          button = _props3.button,\n          className = _props3.className,\n          compact = _props3.compact,\n          disabled = _props3.disabled,\n          error = _props3.error,\n          fluid = _props3.fluid,\n          floating = _props3.floating,\n          icon = _props3.icon,\n          inline = _props3.inline,\n          item = _props3.item,\n          labeled = _props3.labeled,\n          loading = _props3.loading,\n          multiple = _props3.multiple,\n          pointing = _props3.pointing,\n          search = _props3.search,\n          selection = _props3.selection,\n          scrolling = _props3.scrolling,\n          simple = _props3.simple,\n          trigger = _props3.trigger,\n          upward = _props3.upward;\n      var open = this.state.open; // Classes\n\n      var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'), // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n      // TODO: the icon class is only required when a dropdown is a button\n      // useKeyOnly(icon, 'icon'),\n      useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n      var rest = getUnhandledProps(Dropdown, this.props);\n      var ElementType = getElementType(Dropdown, this.props);\n      var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n      return React.createElement(ElementType, _extends({}, rest, ariaOptions, {\n        className: classes,\n        onBlur: this.handleBlur,\n        onClick: this.handleClick,\n        onMouseDown: this.handleMouseDown,\n        onFocus: this.handleFocus,\n        onChange: this.handleChange,\n        tabIndex: this.computeTabIndex(),\n        ref: this.handleRef\n      }), this.renderLabels(), this.renderSearchInput(), this.renderSearchSizer(), trigger || this.renderText(), Icon.create(icon, {\n        overrideProps: this.handleIconOverrides\n      }), this.renderMenu());\n    }\n  }]);\n\n  return Dropdown;\n}(Component);\n\nDropdown.defaultProps = {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: function renderLabel(_ref3) {\n    var text = _ref3.text;\n    return text;\n  },\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n};\nDropdown.autoControlledProps = ['open', 'searchQuery', 'selectedLabel', 'value'];\nDropdown._meta = {\n  name: 'Dropdown',\n  type: META.TYPES.MODULE\n};\nDropdown.Divider = DropdownDivider;\nDropdown.Header = DropdownHeader;\nDropdown.Item = DropdownItem;\nDropdown.Menu = DropdownMenu;\nDropdown.SearchInput = DropdownSearchInput;\nDropdown.handledProps = ['additionLabel', 'additionPosition', 'allowAdditions', 'as', 'basic', 'button', 'children', 'className', 'closeOnBlur', 'closeOnChange', 'compact', 'deburr', 'defaultOpen', 'defaultSearchQuery', 'defaultSelectedLabel', 'defaultValue', 'direction', 'disabled', 'error', 'floating', 'fluid', 'header', 'icon', 'inline', 'item', 'labeled', 'loading', 'minCharacters', 'multiple', 'noResultsMessage', 'onAddItem', 'onBlur', 'onChange', 'onClick', 'onClose', 'onFocus', 'onLabelClick', 'onMouseDown', 'onOpen', 'onSearchChange', 'open', 'openOnFocus', 'options', 'placeholder', 'pointing', 'renderLabel', 'scrolling', 'search', 'searchInput', 'searchQuery', 'selectOnBlur', 'selectOnNavigation', 'selectedLabel', 'selection', 'simple', 'tabIndex', 'text', 'trigger', 'upward', 'value', 'wrapSelection'];\nexport default Dropdown;\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: customPropTypes.as,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({\n    children: PropTypes.any.isRequired\n  }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.string,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** A dropdown can open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/pacs/node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js"],"names":["_defineProperty","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_get2","_inherits","_compact","_map","_every","_without","_findIndex","_find","_reduce","_some","_escapeRegExp","_deburr","_isFunction","_filter","_dropRight","_isEmpty","_size","_union","_get","_includes","_isUndefined","_invoke","_isEqual","_has","_isNil","cx","PropTypes","React","Children","cloneElement","AutoControlledComponent","Component","childrenUtils","customPropTypes","doesNodeContainClick","eventStack","getElementType","getUnhandledProps","keyboardKey","META","objectDiff","shallowEqual","useKeyOnly","useKeyOrValueAndKey","Icon","Label","DropdownDivider","DropdownItem","DropdownHeader","DropdownMenu","DropdownSearchInput","getKeyOrValue","key","value","Dropdown","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","Object","getPrototypeOf","call","apply","concat","handleChange","e","props","closeOnChange","_this$props","multiple","shouldClose","close","closeOnEscape","getCode","Escape","preventDefault","moveSelectionOnKeyDown","_moves","_this$props2","selectOnNavigation","moves","ArrowDown","ArrowUp","move","undefined","moveSelectionBy","makeSelectedItemActive","openOnSpace","Spacebar","state","open","openOnArrow","code","item","getSelectedItem","newValue","setValue","setSelectedIndex","selectItemOnEnter","search","Enter","optionSize","getMenuOptions","clearSearchQuery","searchRef","focus","removeItemOnBackspace","_this$props3","_this$state","searchQuery","Backspace","closeOnDocumentClick","closeOnBlur","ref","attachHandlersOnOpen","sub","unsub","handleMouseDown","isMouseDown","handleDocumentMouseUp","handleClick","_this$props4","minCharacters","_this$state2","stopPropagation","toggle","handleIconClick","handleItemClick","_this$props5","disabled","nativeEvent","stopImmediatePropagation","isAdditionItem","handleFocus","setState","handleBlur","currentTarget","contains","document","activeElement","_this$props6","onBlur","selectOnBlur","handleSearchChange","_ref2","newQuery","trySetState","selectedIndex","options","_this$props7","additionLabel","additionPosition","allowAdditions","deburr","filteredOptions","opt","strippedQuery","re","RegExp","test","text","additionLabelElement","isValidElement","addItem","createElement","className","unshift","push","getEnabledIndices","givenOptions","memo","index","getItemByValue","getMenuItemIndexByValue","getDropdownAriaOptions","_this$props8","loading","ariaOptions","role","optionsProps","enabledIndicies","newSelectedIndex","firstIndex","activeIndex","handleLabelClick","labelProps","selectedLabel","onLabelClick","handleLabelRemove","offset","startIndex","lastIndex","wrapSelection","nextIndex","scrollSelectedItemIntoView","handleIconOverrides","predefinedProps","onClick","handleSearchRef","c","handleSizerRef","sizerRef","handleRef","computeSearchInputTabIndex","_this$props9","tabIndex","computeSearchInputWidth","style","display","textContent","searchWidth","Math","ceil","getBoundingClientRect","width","removeProperty","computeTabIndex","_this$props10","menu","querySelector","isOutOfUpperView","offsetTop","scrollTop","isOutOfLowerView","clientHeight","_this$props11","onOpen","onClose","handleClose","hasSearchFocus","hasDropdownFocus","hasFocus","blur","renderText","_this$props12","placeholder","_this$state3","hasValue","classes","_text","renderSearchInput","_this$props13","searchInput","create","defaultProps","inputRef","onChange","renderSearchSizer","_this$props14","renderLabels","_this$props15","renderLabel","_this$state4","selectedItems","active","as","onRemove","renderOptions","_this$props16","noResultsMessage","_this$state5","isActive","optValue","i","selected","pointerEvents","renderMenu","_this$props17","children","direction","header","getDropdownMenuAriaOptions","isNil","menuChild","only","getInitialAutoControlledState","componentWillMount","_state","componentWillReceiveProps","nextProps","prototype","process","env","NODE_ENV","isNextValueArray","isArray","console","error","toString","shouldComponentUpdate","nextState","componentDidUpdate","prevProps","prevState","_props","openOnFocus","openable","componentWillUnmount","_props2","render","_props3","basic","button","compact","fluid","floating","icon","inline","labeled","pointing","selection","scrolling","simple","trigger","upward","rest","ElementType","onMouseDown","onFocus","overrideProps","_ref3","autoControlledProps","_meta","name","type","TYPES","MODULE","Divider","Header","Item","Menu","SearchInput","handledProps","propTypes","oneOfType","element","string","oneOf","every","demand","bool","disallow","givenProps","any","isRequired","defaultOpen","defaultSearchQuery","defaultSelectedLabel","number","defaultValue","arrayOf","node","object","onAddItem","func","onSearchChange","shape","array"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _get2 from 'babel-runtime/helpers/get';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _compact from 'lodash/compact';\nimport _map from 'lodash/map';\nimport _every from 'lodash/every';\nimport _without from 'lodash/without';\nimport _findIndex from 'lodash/findIndex';\nimport _find from 'lodash/find';\nimport _reduce from 'lodash/reduce';\nimport _some from 'lodash/some';\nimport _escapeRegExp from 'lodash/escapeRegExp';\nimport _deburr from 'lodash/deburr';\nimport _isFunction from 'lodash/isFunction';\nimport _filter from 'lodash/filter';\nimport _dropRight from 'lodash/dropRight';\nimport _isEmpty from 'lodash/isEmpty';\nimport _size from 'lodash/size';\nimport _union from 'lodash/union';\nimport _get from 'lodash/get';\nimport _includes from 'lodash/includes';\nimport _isUndefined from 'lodash/isUndefined';\nimport _invoke from 'lodash/invoke';\nimport _isEqual from 'lodash/isEqual';\nimport _has from 'lodash/has';\nimport _isNil from 'lodash/isNil';\nimport cx from 'classnames';\n\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement } from 'react';\n\nimport { AutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, eventStack, getElementType, getUnhandledProps, keyboardKey, META, objectDiff, shallowEqual, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\nvar Dropdown = function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Dropdown);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Dropdown.__proto__ || Object.getPrototypeOf(Dropdown)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (e, value) {\n      _invoke(_this.props, 'onChange', e, _extends({}, _this.props, { value: value }));\n    }, _this.closeOnChange = function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n\n      if (shouldClose) _this.close(e);\n    }, _this.closeOnEscape = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n      _this.close();\n    }, _this.moveSelectionOnKeyDown = function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n\n      var moves = (_moves = {}, _defineProperty(_moves, keyboardKey.ArrowDown, 1), _defineProperty(_moves, keyboardKey.ArrowUp, -1), _moves);\n      var move = moves[keyboardKey.getCode(e)];\n\n      if (move === undefined) return;\n      e.preventDefault();\n      _this.moveSelectionBy(move);\n      if (!multiple && selectOnNavigation) _this.makeSelectedItemActive(e);\n    }, _this.openOnSpace = function (e) {\n\n      if (keyboardKey.getCode(e) !== keyboardKey.Spacebar) return;\n      if (_this.state.open) return;\n\n      e.preventDefault();\n\n      _this.open(e);\n    }, _this.openOnArrow = function (e) {\n\n      var code = keyboardKey.getCode(e);\n      if (!_includes([keyboardKey.ArrowDown, keyboardKey.ArrowUp], code)) return;\n      if (_this.state.open) return;\n\n      e.preventDefault();\n\n      _this.open(e);\n    }, _this.makeSelectedItemActive = function (e) {\n      var open = _this.state.open;\n      var multiple = _this.props.multiple;\n\n\n      var item = _this.getSelectedItem();\n      var value = _get(item, 'value');\n\n      // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n      if (_isNil(value) || !open) return;\n\n      // state value may be undefined\n      var newValue = multiple ? _union(_this.state.value, [value]) : value;\n\n      // notify the onChange prop that the user is trying to change value\n      _this.setValue(newValue);\n      _this.setSelectedIndex(newValue);\n      _this.handleChange(e, newValue);\n\n      // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n      if (item['data-additional']) _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, { value: value }));\n    }, _this.selectItemOnEnter = function (e) {\n      var search = _this.props.search;\n\n\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n      e.preventDefault();\n\n      var optionSize = _size(_this.getMenuOptions());\n      if (search && optionSize === 0) return;\n\n      _this.makeSelectedItemActive(e);\n      _this.closeOnChange(e);\n      _this.clearSearchQuery();\n      if (search && _this.searchRef) _this.searchRef.focus();\n    }, _this.removeItemOnBackspace = function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state = _this.state,\n          searchQuery = _this$state.searchQuery,\n          value = _this$state.value;\n\n\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault();\n\n      // remove most recent value\n      var newValue = _dropRight(value);\n\n      _this.setValue(newValue);\n      _this.setSelectedIndex(newValue);\n      _this.handleChange(e, newValue);\n    }, _this.closeOnDocumentClick = function (e) {\n\n      if (!_this.props.closeOnBlur) return;\n\n      // If event happened in the dropdown, ignore it\n      if (_this.ref && doesNodeContainClick(_this.ref, e)) return;\n\n      _this.close();\n    }, _this.attachHandlersOnOpen = function () {\n      eventStack.sub('keydown', [_this.closeOnEscape, _this.moveSelectionOnKeyDown, _this.selectItemOnEnter, _this.removeItemOnBackspace]);\n      eventStack.sub('click', _this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [_this.openOnArrow, _this.openOnSpace]);\n    }, _this.handleMouseDown = function (e) {\n\n      _this.isMouseDown = true;\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n    }, _this.handleDocumentMouseUp = function () {\n\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    }, _this.handleClick = function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state2 = _this.state,\n          open = _this$state2.open,\n          searchQuery = _this$state2.searchQuery;\n\n\n      _invoke(_this.props, 'onClick', e, _this.props);\n      // prevent closeOnDocumentClick()\n      e.stopPropagation();\n\n      if (!search) return _this.toggle(e);\n      if (open) return;\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n        return;\n      }\n      if (_this.searchRef) _this.searchRef.focus();\n    }, _this.handleIconClick = function (e) {\n\n      _invoke(_this.props, 'onClick', e, _this.props);\n      // prevent handleClick()\n      e.stopPropagation();\n      _this.toggle(e);\n    }, _this.handleItemClick = function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var value = item.value;\n\n      // prevent toggle() in handleClick()\n\n      e.stopPropagation();\n      // prevent closeOnDocumentClick() if multiple or item is disabled\n      if (multiple || item.disabled) e.nativeEvent.stopImmediatePropagation();\n      if (item.disabled) return;\n\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value;\n\n      // notify the onChange prop that the user is trying to change value\n      _this.setValue(newValue);\n      _this.setSelectedIndex(value);\n\n      var optionSize = _size(_this.getMenuOptions());\n      if (!multiple || isAdditionItem || optionSize === 1) _this.clearSearchQuery();\n\n      _this.handleChange(e, newValue);\n      _this.closeOnChange(e);\n\n      // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n      if (isAdditionItem) _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, { value: value }));\n\n      if (multiple && search && _this.searchRef) _this.searchRef.focus();\n    }, _this.handleFocus = function (e) {\n      var focus = _this.state.focus;\n\n\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n      _this.setState({ focus: true });\n    }, _this.handleBlur = function (e) {\n\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          onBlur = _this$props6.onBlur,\n          selectOnBlur = _this$props6.selectOnBlur;\n      // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n      if (onBlur) onBlur(e, _this.props);\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e);\n        if (closeOnBlur) _this.close();\n      }\n      _this.setState({ focus: false });\n      _this.clearSearchQuery();\n    }, _this.handleSearchChange = function (e, _ref2) {\n      var value = _ref2.value;\n\n\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, { searchQuery: newQuery }));\n      _this.trySetState({ searchQuery: newQuery }, { selectedIndex: 0 });\n\n      // open search dropdown on search query\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n        return;\n      }\n      // close search dropdown if search query is too small\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    }, _this.getMenuOptions = function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var _this$props7 = _this.props,\n          additionLabel = _this$props7.additionLabel,\n          additionPosition = _this$props7.additionPosition,\n          allowAdditions = _this$props7.allowAdditions,\n          deburr = _this$props7.deburr,\n          multiple = _this$props7.multiple,\n          search = _this$props7.search;\n      var searchQuery = _this.state.searchQuery;\n\n\n      var filteredOptions = options;\n\n      // filter out active options\n      if (multiple) {\n        filteredOptions = _filter(filteredOptions, function (opt) {\n          return !_includes(value, opt.value);\n        });\n      }\n\n      // filter by search query\n      if (search && searchQuery) {\n        if (_isFunction(search)) {\n          filteredOptions = search(filteredOptions, searchQuery);\n        } else {\n          // remove diacritics on search input and options, if deburr prop is set\n          var strippedQuery = deburr ? _deburr(searchQuery) : searchQuery;\n\n          var re = new RegExp(_escapeRegExp(strippedQuery), 'i');\n\n          filteredOptions = _filter(filteredOptions, function (opt) {\n            return re.test(deburr ? _deburr(opt.text) : opt.text);\n          });\n        }\n      }\n\n      // insert the \"add\" item\n      if (allowAdditions && search && searchQuery && !_some(filteredOptions, { text: searchQuery })) {\n        var additionLabelElement = React.isValidElement(additionLabel) ? React.cloneElement(additionLabel, { key: 'addition-label' }) : additionLabel || '';\n\n        var addItem = {\n          key: 'addition',\n          // by using an array, we can pass multiple elements, but when doing so\n          // we must specify a `key` for React to know which one is which\n          text: [additionLabelElement, React.createElement(\n            'b',\n            { key: 'addition-query' },\n            searchQuery\n          )],\n          value: searchQuery,\n          className: 'addition',\n          'data-additional': true\n        };\n        if (additionPosition === 'top') filteredOptions.unshift(addItem);else filteredOptions.push(addItem);\n      }\n\n      return filteredOptions;\n    }, _this.getSelectedItem = function () {\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions();\n\n      return _get(options, '[' + selectedIndex + ']');\n    }, _this.getEnabledIndices = function (givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _reduce(options, function (memo, item, index) {\n        if (!item.disabled) memo.push(index);\n        return memo;\n      }, []);\n    }, _this.getItemByValue = function (value) {\n      var options = _this.props.options;\n\n\n      return _find(options, { value: value });\n    }, _this.getMenuItemIndexByValue = function (value, givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _findIndex(options, ['value', value]);\n    }, _this.getDropdownAriaOptions = function () {\n      var _this$props8 = _this.props,\n          loading = _this$props8.loading,\n          disabled = _this$props8.disabled,\n          search = _this$props8.search,\n          multiple = _this$props8.multiple;\n      var open = _this.state.open;\n\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n      return ariaOptions;\n    }, _this.clearSearchQuery = function () {\n      _this.trySetState({ searchQuery: '' });\n    }, _this.setValue = function (value) {\n      _this.trySetState({ value: value });\n    }, _this.setSelectedIndex = function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var optionsProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var multiple = _this.props.multiple;\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions(value, optionsProps);\n      var enabledIndicies = _this.getEnabledIndices(options);\n\n      var newSelectedIndex = void 0;\n\n      // update the selected index\n      if (!selectedIndex || selectedIndex < 0) {\n        var firstIndex = enabledIndicies[0];\n\n        // Select the currently active item, if none, use the first item.\n        // Multiple selects remove active items from the list,\n        // their initial selected index should be 0.\n        newSelectedIndex = multiple ? firstIndex : _this.getMenuItemIndexByValue(value, options) || enabledIndicies[0];\n      } else if (multiple) {\n        // multiple selects remove options from the menu as they are made active\n        // keep the selected index within range of the remaining items\n        if (selectedIndex >= options.length - 1) {\n          newSelectedIndex = enabledIndicies[enabledIndicies.length - 1];\n        }\n      } else {\n        var activeIndex = _this.getMenuItemIndexByValue(value, options);\n\n        // regular selects can only have one active item\n        // set the selected index to the currently active item\n        newSelectedIndex = _includes(enabledIndicies, activeIndex) ? activeIndex : undefined;\n      }\n\n      if (!newSelectedIndex || newSelectedIndex < 0) {\n        newSelectedIndex = enabledIndicies[0];\n      }\n\n      _this.setState({ selectedIndex: newSelectedIndex });\n    }, _this.handleLabelClick = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({ selectedLabel: labelProps.value });\n\n      var onLabelClick = _this.props.onLabelClick;\n\n      if (onLabelClick) onLabelClick(e, labelProps);\n    }, _this.handleLabelRemove = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n\n      _this.setValue(newValue);\n      _this.setSelectedIndex(newValue);\n      _this.handleChange(e, newValue);\n    }, _this.moveSelectionBy = function (offset) {\n      var startIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.selectedIndex;\n\n\n      var options = _this.getMenuOptions();\n\n      // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n      if (options === undefined || _every(options, 'disabled')) return;\n\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection;\n      // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset;\n\n      // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n\n      if (options[nextIndex].disabled) {\n        _this.moveSelectionBy(offset, nextIndex);\n        return;\n      }\n\n      _this.setState({ selectedIndex: nextIndex });\n      _this.scrollSelectedItemIntoView();\n    }, _this.handleIconOverrides = function (predefinedProps) {\n      return {\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n          _this.handleIconClick(e);\n        }\n      };\n    }, _this.handleSearchRef = function (c) {\n      return _this.searchRef = c;\n    }, _this.handleSizerRef = function (c) {\n      return _this.sizerRef = c;\n    }, _this.handleRef = function (c) {\n      return _this.ref = c;\n    }, _this.computeSearchInputTabIndex = function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          tabIndex = _this$props9.tabIndex;\n\n\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    }, _this.computeSearchInputWidth = function () {\n      var searchQuery = _this.state.searchQuery;\n\n\n      if (_this.sizerRef && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n\n        _this.sizerRef.style.display = 'inline';\n        _this.sizerRef.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.getBoundingClientRect().width);\n        _this.sizerRef.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    }, _this.computeTabIndex = function () {\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search,\n          tabIndex = _this$props10.tabIndex;\n\n      // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    }, _this.scrollSelectedItemIntoView = function () {\n      if (!_this.ref) return;\n      var menu = _this.ref.querySelector('.menu.visible');\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    }, _this.open = function (e) {\n      var _this$props11 = _this.props,\n          disabled = _this$props11.disabled,\n          onOpen = _this$props11.onOpen,\n          search = _this$props11.search;\n\n      if (disabled) return;\n      if (search && _this.searchRef) _this.searchRef.focus();\n      if (onOpen) onOpen(e, _this.props);\n\n      _this.trySetState({ open: true });\n      _this.scrollSelectedItemIntoView();\n    }, _this.close = function (e) {\n      var onClose = _this.props.onClose;\n\n      if (onClose) onClose(e, _this.props);\n\n      _this.trySetState({ open: false });\n    }, _this.handleClose = function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef;\n      var hasDropdownFocus = document.activeElement === _this.ref;\n      var hasFocus = hasSearchFocus || hasDropdownFocus;\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n      if (!hasSearchFocus) {\n        _this.ref.blur();\n      }\n\n      // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n      _this.setState({ focus: hasFocus });\n    }, _this.toggle = function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    }, _this.renderText = function () {\n      var _this$props12 = _this.props,\n          multiple = _this$props12.multiple,\n          placeholder = _this$props12.placeholder,\n          search = _this$props12.search,\n          text = _this$props12.text;\n      var _this$state3 = _this.state,\n          searchQuery = _this$state3.searchQuery,\n          value = _this$state3.value,\n          open = _this$state3.open;\n\n      var hasValue = multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n      if (searchQuery) {\n        _text = null;\n      } else if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        _text = _get(_this.getSelectedItem(), 'text');\n      } else if (hasValue) {\n        _text = _get(_this.getItemByValue(value), 'text');\n      }\n\n      return React.createElement(\n        'div',\n        { className: classes, role: 'alert', 'aria-live': 'polite' },\n        _text\n      );\n    }, _this.renderSearchInput = function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          searchInput = _this$props13.searchInput;\n      var searchQuery = _this.state.searchQuery;\n\n\n      if (!search) return null;\n      return DropdownSearchInput.create(searchInput, { defaultProps: {\n          inputRef: _this.handleSearchRef,\n          onChange: _this.handleSearchChange,\n          style: { width: _this.computeSearchInputWidth() },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        } });\n    }, _this.renderSearchSizer = function () {\n      var _this$props14 = _this.props,\n          search = _this$props14.search,\n          multiple = _this$props14.multiple;\n\n\n      if (!(search && multiple)) return null;\n      return React.createElement('span', { className: 'sizer', ref: _this.handleSizerRef });\n    }, _this.renderLabels = function () {\n      var _this$props15 = _this.props,\n          multiple = _this$props15.multiple,\n          renderLabel = _this$props15.renderLabel;\n      var _this$state4 = _this.state,\n          selectedLabel = _this$state4.selectedLabel,\n          value = _this$state4.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n      var selectedItems = _map(value, _this.getItemByValue);\n\n\n      // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n\n        return Label.create(renderLabel(item, index, defaultProps), { defaultProps: defaultProps });\n      });\n    }, _this.renderOptions = function () {\n      var _this$props16 = _this.props,\n          multiple = _this$props16.multiple,\n          search = _this$props16.search,\n          noResultsMessage = _this$props16.noResultsMessage;\n      var _this$state5 = _this.state,\n          selectedIndex = _this$state5.selectedIndex,\n          value = _this$state5.value;\n\n      var options = _this.getMenuOptions();\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return React.createElement(\n          'div',\n          { className: 'message' },\n          noResultsMessage\n        );\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_extends({\n          active: isActive(opt.value),\n          onClick: _this.handleItemClick,\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _extends({}, opt.style, { pointerEvents: 'all' })\n        }));\n      });\n    }, _this.renderMenu = function () {\n      var _this$props17 = _this.props,\n          children = _this$props17.children,\n          direction = _this$props17.direction,\n          header = _this$props17.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions();\n\n      // single menu child\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n\n        return cloneElement(menuChild, _extends({ className: className }, ariaOptions));\n      }\n\n      return React.createElement(\n        DropdownMenu,\n        _extends({}, ariaOptions, { direction: direction, open: open }),\n        DropdownHeader.create(header),\n        _this.renderOptions()\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Dropdown, [{\n    key: 'getInitialAutoControlledState',\n    value: function getInitialAutoControlledState() {\n      return { searchQuery: '' };\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _state = this.state,\n          open = _state.open,\n          value = _state.value;\n\n\n      this.setValue(value);\n      this.setSelectedIndex(value);\n\n      if (open) {\n        this.open();\n        this.attachHandlersOnOpen();\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      _get2(Dropdown.prototype.__proto__ || Object.getPrototypeOf(Dropdown.prototype), 'componentWillReceiveProps', this).call(this, nextProps);\n\n\n      /* eslint-disable no-console */\n      if (process.env.NODE_ENV !== 'production') {\n        // in development, validate value type matches dropdown type\n        var isNextValueArray = Array.isArray(nextProps.value);\n        var hasValue = _has(nextProps, 'value');\n\n        if (hasValue && nextProps.multiple && !isNextValueArray) {\n          console.error('Dropdown `value` must be an array when `multiple` is set.' + (' Received type: `' + Object.prototype.toString.call(nextProps.value) + '`.'));\n        } else if (hasValue && !nextProps.multiple && isNextValueArray) {\n          console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n        }\n      }\n      /* eslint-enable no-console */\n\n      if (!shallowEqual(nextProps.value, this.props.value)) {\n        this.setValue(nextProps.value);\n        this.setSelectedIndex(nextProps.value);\n      }\n\n      if (!_isEqual(nextProps.options, this.props.options)) {\n        this.setSelectedIndex(undefined, nextProps.options);\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n\n      // focused / blurred\n      // eslint-disable-line complexity\n      if (!prevState.focus && this.state.focus) {\n        if (!this.isMouseDown) {\n          var _props = this.props,\n              minCharacters = _props.minCharacters,\n              openOnFocus = _props.openOnFocus,\n              search = _props.search;\n\n          var openable = !search || search && minCharacters === 1;\n\n          if (openOnFocus && openable) this.open();\n        }\n        if (!this.state.open) {\n          eventStack.sub('keydown', [this.openOnArrow, this.openOnSpace]);\n        } else {\n          eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        }\n        eventStack.sub('keydown', this.removeItemOnBackspace);\n      } else if (prevState.focus && !this.state.focus) {\n        var closeOnBlur = this.props.closeOnBlur;\n\n        if (!this.isMouseDown && closeOnBlur) {\n          this.close();\n        }\n        eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace]);\n      }\n\n      // opened / closed\n      if (!prevState.open && this.state.open) {\n        this.attachHandlersOnOpen();\n        this.scrollSelectedItemIntoView();\n      } else if (prevState.open && !this.state.open) {\n        this.handleClose();\n        eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        eventStack.unsub('click', this.closeOnDocumentClick);\n        if (!this.state.focus) {\n          eventStack.unsub('keydown', this.removeItemOnBackspace);\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n\n      eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace, this.closeOnEscape]);\n      eventStack.unsub('click', this.closeOnDocumentClick);\n    }\n\n    // ----------------------------------------\n    // Document Event Handlers\n    // ----------------------------------------\n\n    // onChange needs to receive a value\n    // can't rely on props.value if we are controlled\n\n\n    // ----------------------------------------\n    // Component Event Handlers\n    // ----------------------------------------\n\n    // ----------------------------------------\n    // Getters\n    // ----------------------------------------\n\n    // There are times when we need to calculate the options based on a value\n    // that hasn't yet been persisted to state.\n\n  }, {\n    key: 'getDropdownMenuAriaOptions',\n    value: function getDropdownMenuAriaOptions() {\n      var _props2 = this.props,\n          search = _props2.search,\n          multiple = _props2.multiple;\n\n      var ariaOptions = {};\n\n      if (search) {\n        ariaOptions['aria-multiselectable'] = multiple;\n        ariaOptions.role = 'listbox';\n      }\n      return ariaOptions;\n    }\n\n    // ----------------------------------------\n    // Setters\n    // ----------------------------------------\n\n    // ----------------------------------------\n    // Overrides\n    // ----------------------------------------\n\n    // ----------------------------------------\n    // Refs\n    // ----------------------------------------\n\n    // ----------------------------------------\n    // Helpers\n    // ----------------------------------------\n\n    // ----------------------------------------\n    // Behavior\n    // ----------------------------------------\n\n    // ----------------------------------------\n    // Render\n    // ----------------------------------------\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          basic = _props3.basic,\n          button = _props3.button,\n          className = _props3.className,\n          compact = _props3.compact,\n          disabled = _props3.disabled,\n          error = _props3.error,\n          fluid = _props3.fluid,\n          floating = _props3.floating,\n          icon = _props3.icon,\n          inline = _props3.inline,\n          item = _props3.item,\n          labeled = _props3.labeled,\n          loading = _props3.loading,\n          multiple = _props3.multiple,\n          pointing = _props3.pointing,\n          search = _props3.search,\n          selection = _props3.selection,\n          scrolling = _props3.scrolling,\n          simple = _props3.simple,\n          trigger = _props3.trigger,\n          upward = _props3.upward;\n      var open = this.state.open;\n\n      // Classes\n\n      var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'),\n      // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n      // TODO: the icon class is only required when a dropdown is a button\n      // useKeyOnly(icon, 'icon'),\n      useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n      var rest = getUnhandledProps(Dropdown, this.props);\n      var ElementType = getElementType(Dropdown, this.props);\n      var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n\n      return React.createElement(\n        ElementType,\n        _extends({}, rest, ariaOptions, {\n          className: classes,\n          onBlur: this.handleBlur,\n          onClick: this.handleClick,\n          onMouseDown: this.handleMouseDown,\n          onFocus: this.handleFocus,\n          onChange: this.handleChange,\n          tabIndex: this.computeTabIndex(),\n          ref: this.handleRef\n        }),\n        this.renderLabels(),\n        this.renderSearchInput(),\n        this.renderSearchSizer(),\n        trigger || this.renderText(),\n        Icon.create(icon, {\n          overrideProps: this.handleIconOverrides\n        }),\n        this.renderMenu()\n      );\n    }\n  }]);\n\n  return Dropdown;\n}(Component);\n\nDropdown.defaultProps = {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: function renderLabel(_ref3) {\n    var text = _ref3.text;\n    return text;\n  },\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n};\nDropdown.autoControlledProps = ['open', 'searchQuery', 'selectedLabel', 'value'];\nDropdown._meta = {\n  name: 'Dropdown',\n  type: META.TYPES.MODULE\n};\nDropdown.Divider = DropdownDivider;\nDropdown.Header = DropdownHeader;\nDropdown.Item = DropdownItem;\nDropdown.Menu = DropdownMenu;\nDropdown.SearchInput = DropdownSearchInput;\nDropdown.handledProps = ['additionLabel', 'additionPosition', 'allowAdditions', 'as', 'basic', 'button', 'children', 'className', 'closeOnBlur', 'closeOnChange', 'compact', 'deburr', 'defaultOpen', 'defaultSearchQuery', 'defaultSelectedLabel', 'defaultValue', 'direction', 'disabled', 'error', 'floating', 'fluid', 'header', 'icon', 'inline', 'item', 'labeled', 'loading', 'minCharacters', 'multiple', 'noResultsMessage', 'onAddItem', 'onBlur', 'onChange', 'onClick', 'onClose', 'onFocus', 'onLabelClick', 'onMouseDown', 'onOpen', 'onSearchChange', 'open', 'openOnFocus', 'options', 'placeholder', 'pointing', 'renderLabel', 'scrolling', 'search', 'searchInput', 'searchQuery', 'selectOnBlur', 'selectOnNavigation', 'selectedLabel', 'selection', 'simple', 'tabIndex', 'text', 'trigger', 'upward', 'value', 'wrapSelection'];\nexport default Dropdown;\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: customPropTypes.as,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({ children: PropTypes.any.isRequired }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.string,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** A dropdown can open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};"]},"metadata":{},"sourceType":"module"}
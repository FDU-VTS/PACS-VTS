{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport { connect } from 'mini-store';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport createChainedFunction from \"rc-util/es/createChainedFunction\";\nimport shallowEqual from 'shallowequal';\nimport classNames from 'classnames';\nimport { getKeyFromChildrenIndex, loopMenuItem, noop, menuAllProps, isMobileDevice } from './util';\nimport DOMWrap from './DOMWrap';\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n\n  return arr.every(function (c) {\n    return !!c.props.disabled;\n  });\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  var state = store.getState();\n  store.setState({\n    activeKey: _objectSpread(_objectSpread({}, state.activeKey), {}, _defineProperty({}, menuId, activeKey))\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n  var activeKey = originalActiveKey;\n  var children = props.children,\n      eventKey = props.eventKey;\n\n  if (activeKey) {\n    var found;\n    loopMenuItem(children, function (c, i) {\n      if (c && c.props && !c.props.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n\n    if (found) {\n      return activeKey;\n    }\n  }\n\n  activeKey = null;\n\n  if (props.defaultActiveFirst) {\n    loopMenuItem(children, function (c, i) {\n      if (!activeKey && c && !c.props.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n\n  return activeKey;\n}\nexport function saveRef(c) {\n  if (c) {\n    var index = this.instanceArray.indexOf(c);\n\n    if (index !== -1) {\n      // update component if it's already inside instanceArray\n      this.instanceArray[index] = c;\n    } else {\n      // add component if it's not in instanceArray yet;\n      this.instanceArray.push(c);\n    }\n  }\n}\nexport var SubPopupMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(SubPopupMenu, _React$Component);\n\n  var _super = _createSuper(SubPopupMenu);\n\n  function SubPopupMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubPopupMenu);\n\n    _this = _super.call(this, props);\n    /**\n     * all keyboard events callbacks run from here at first\n     *\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n    _this.onKeyDown = function (e, callback) {\n      var keyCode = e.keyCode;\n      var handled;\n\n      _this.getFlatInstanceArray().forEach(function (obj) {\n        if (obj && obj.props.active && obj.onKeyDown) {\n          handled = obj.onKeyDown(e);\n        }\n      });\n\n      if (handled) {\n        return 1;\n      }\n\n      var activeItem = null;\n\n      if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n        activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1);\n      }\n\n      if (activeItem) {\n        e.preventDefault();\n        updateActiveKey(_this.props.store, getEventKey(_this.props), activeItem.props.eventKey);\n\n        if (typeof callback === 'function') {\n          callback(activeItem);\n        }\n\n        return 1;\n      }\n\n      return undefined;\n    };\n\n    _this.onItemHover = function (e) {\n      var key = e.key,\n          hover = e.hover;\n      updateActiveKey(_this.props.store, getEventKey(_this.props), hover ? key : null);\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      _this.props.onDeselect(selectInfo);\n    };\n\n    _this.onSelect = function (selectInfo) {\n      _this.props.onSelect(selectInfo);\n    };\n\n    _this.onClick = function (e) {\n      _this.props.onClick(e);\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onDestroy = function (key) {\n      /* istanbul ignore next */\n      _this.props.onDestroy(key);\n    };\n\n    _this.getFlatInstanceArray = function () {\n      return _this.instanceArray;\n    };\n\n    _this.step = function (direction) {\n      var children = _this.getFlatInstanceArray();\n\n      var activeKey = _this.props.store.getState().activeKey[getEventKey(_this.props)];\n\n      var len = children.length;\n\n      if (!len) {\n        return null;\n      }\n\n      if (direction < 0) {\n        children = children.concat().reverse();\n      } // find current activeIndex\n\n\n      var activeIndex = -1;\n      children.every(function (c, ci) {\n        if (c && c.props.eventKey === activeKey) {\n          activeIndex = ci;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (!_this.props.defaultActiveFirst && activeIndex !== -1 && allDisabled(children.slice(activeIndex, len - 1))) {\n        return undefined;\n      }\n\n      var start = (activeIndex + 1) % len;\n      var i = start;\n\n      do {\n        var child = children[i];\n\n        if (!child || child.props.disabled) {\n          i = (i + 1) % len;\n        } else {\n          return child;\n        }\n      } while (i !== start);\n\n      return null;\n    };\n\n    _this.renderCommonMenuItem = function (child, i, extraProps) {\n      var state = _this.props.store.getState();\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      var key = getKeyFromChildrenIndex(child, props.eventKey, i);\n      var childProps = child.props; // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n      if (!childProps || typeof child.type === 'string') {\n        return child;\n      }\n\n      var isActive = key === state.activeKey;\n\n      var newChildProps = _objectSpread(_objectSpread({\n        mode: childProps.mode || props.mode,\n        level: props.level,\n        inlineIndent: props.inlineIndent,\n        renderMenuItem: _this.renderMenuItem,\n        rootPrefixCls: props.prefixCls,\n        index: i,\n        parentMenu: props.parentMenu,\n        // customized ref function, need to be invoked manually in child's componentDidMount\n        manualRef: childProps.disabled ? undefined : createChainedFunction(child.ref, saveRef.bind(_assertThisInitialized(_this))),\n        eventKey: key,\n        active: !childProps.disabled && isActive,\n        multiple: props.multiple,\n        onClick: function onClick(e) {\n          (childProps.onClick || noop)(e);\n\n          _this.onClick(e);\n        },\n        onItemHover: _this.onItemHover,\n        motion: props.motion,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        onOpenChange: _this.onOpenChange,\n        onDeselect: _this.onDeselect,\n        onSelect: _this.onSelect,\n        builtinPlacements: props.builtinPlacements,\n        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n        expandIcon: childProps.expandIcon || _this.props.expandIcon\n      }, extraProps), {}, {\n        direction: props.direction\n      }); // ref: https://github.com/ant-design/ant-design/issues/13943\n\n\n      if (props.mode === 'inline' || isMobileDevice()) {\n        newChildProps.triggerSubMenuAction = 'click';\n      }\n\n      return React.cloneElement(child, newChildProps);\n    };\n\n    _this.renderMenuItem = function (c, i, subMenuKey) {\n      /* istanbul ignore if */\n      if (!c) {\n        return null;\n      }\n\n      var state = _this.props.store.getState();\n\n      var extraProps = {\n        openKeys: state.openKeys,\n        selectedKeys: state.selectedKeys,\n        triggerSubMenuAction: _this.props.triggerSubMenuAction,\n        subMenuKey: subMenuKey\n      };\n      return _this.renderCommonMenuItem(c, i, extraProps);\n    };\n\n    props.store.setState({\n      activeKey: _objectSpread(_objectSpread({}, props.store.getState().activeKey), {}, _defineProperty({}, props.eventKey, getActiveKey(props, props.activeKey)))\n    });\n    _this.instanceArray = [];\n    return _this;\n  }\n\n  _createClass(SubPopupMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // invoke customized ref to expose component to mixin\n      if (this.props.manualRef) {\n        this.props.manualRef(this);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.visible || nextProps.visible || this.props.className !== nextProps.className || !shallowEqual(this.props.style, nextProps.style);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n      var originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n      var activeKey = getActiveKey(props, originalActiveKey);\n\n      if (activeKey !== originalActiveKey) {\n        updateActiveKey(props.store, getEventKey(props), activeKey);\n      } else if ('activeKey' in prevProps) {\n        // If prev activeKey is not same as current activeKey,\n        // we should set it.\n        var prevActiveKey = getActiveKey(prevProps, prevProps.activeKey);\n\n        if (activeKey !== prevActiveKey) {\n          updateActiveKey(props.store, getEventKey(props), activeKey);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props);\n\n      this.instanceArray = [];\n      var className = classNames(props.prefixCls, props.className, \"\".concat(props.prefixCls, \"-\").concat(props.mode));\n      var domProps = {\n        className: className,\n        // role could be 'select' and by default set to menu\n        role: props.role || 'menu'\n      };\n\n      if (props.id) {\n        domProps.id = props.id;\n      }\n\n      if (props.focusable) {\n        domProps.tabIndex = 0;\n        domProps.onKeyDown = this.onKeyDown;\n      }\n\n      var prefixCls = props.prefixCls,\n          eventKey = props.eventKey,\n          visible = props.visible,\n          level = props.level,\n          mode = props.mode,\n          overflowedIndicator = props.overflowedIndicator,\n          theme = props.theme;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Otherwise, the propagated click event will trigger another onClick\n\n      delete props.onClick;\n      return React.createElement(DOMWrap, Object.assign({}, props, {\n        prefixCls: prefixCls,\n        mode: mode,\n        tag: \"ul\",\n        level: level,\n        theme: theme,\n        visible: visible,\n        overflowedIndicator: overflowedIndicator\n      }, domProps), React.Children.map(props.children, function (c, i) {\n        return _this2.renderMenuItem(c, i, eventKey || '0-menu-');\n      }));\n    }\n  }]);\n\n  return SubPopupMenu;\n}(React.Component);\nSubPopupMenu.defaultProps = {\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  level: 1,\n  inlineIndent: 24,\n  visible: true,\n  focusable: true,\n  style: {},\n  manualRef: noop\n};\nvar connected = connect()(SubPopupMenu);\nexport default connected;","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/PACS-VTS/PACS/pacs/node_modules/rc-menu/es/SubPopupMenu.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","React","connect","KeyCode","createChainedFunction","shallowEqual","classNames","getKeyFromChildrenIndex","loopMenuItem","noop","menuAllProps","isMobileDevice","DOMWrap","allDisabled","arr","every","c","disabled","updateActiveKey","store","menuId","activeKey","state","getState","setState","getEventKey","eventKey","getActiveKey","originalActiveKey","children","found","defaultActiveFirst","saveRef","index","instanceArray","indexOf","SubPopupMenu","_React$Component","_super","_this","onKeyDown","callback","keyCode","handled","getFlatInstanceArray","active","activeItem","UP","DOWN","step","preventDefault","undefined","onItemHover","hover","onDeselect","selectInfo","onSelect","onClick","onOpenChange","onDestroy","direction","len","concat","reverse","activeIndex","ci","slice","start","child","renderCommonMenuItem","extraProps","_assertThisInitialize","childProps","type","isActive","newChildProps","mode","level","inlineIndent","renderMenuItem","rootPrefixCls","prefixCls","parentMenu","manualRef","ref","bind","multiple","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","itemIcon","expandIcon","triggerSubMenuAction","cloneElement","subMenuKey","openKeys","selectedKeys","componentDidMount","shouldComponentUpdate","nextProps","visible","className","style","componentDidUpdate","prevProps","prevActiveKey","render","_this2","domProps","role","id","focusable","tabIndex","overflowedIndicator","theme","createElement","tag","Children","map","Component","defaultProps","connected"],"mappings":"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","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { connect } from 'mini-store';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport createChainedFunction from \"rc-util/es/createChainedFunction\";\nimport shallowEqual from 'shallowequal';\nimport classNames from 'classnames';\nimport { getKeyFromChildrenIndex, loopMenuItem, noop, menuAllProps, isMobileDevice } from './util';\nimport DOMWrap from './DOMWrap';\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n\n  return arr.every(function (c) {\n    return !!c.props.disabled;\n  });\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  var state = store.getState();\n  store.setState({\n    activeKey: _objectSpread(_objectSpread({}, state.activeKey), {}, _defineProperty({}, menuId, activeKey))\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n  var activeKey = originalActiveKey;\n  var children = props.children,\n      eventKey = props.eventKey;\n\n  if (activeKey) {\n    var found;\n    loopMenuItem(children, function (c, i) {\n      if (c && c.props && !c.props.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n\n    if (found) {\n      return activeKey;\n    }\n  }\n\n  activeKey = null;\n\n  if (props.defaultActiveFirst) {\n    loopMenuItem(children, function (c, i) {\n      if (!activeKey && c && !c.props.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n\n  return activeKey;\n}\nexport function saveRef(c) {\n  if (c) {\n    var index = this.instanceArray.indexOf(c);\n\n    if (index !== -1) {\n      // update component if it's already inside instanceArray\n      this.instanceArray[index] = c;\n    } else {\n      // add component if it's not in instanceArray yet;\n      this.instanceArray.push(c);\n    }\n  }\n}\nexport var SubPopupMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(SubPopupMenu, _React$Component);\n\n  var _super = _createSuper(SubPopupMenu);\n\n  function SubPopupMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubPopupMenu);\n\n    _this = _super.call(this, props);\n    /**\n     * all keyboard events callbacks run from here at first\n     *\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n    _this.onKeyDown = function (e, callback) {\n      var keyCode = e.keyCode;\n      var handled;\n\n      _this.getFlatInstanceArray().forEach(function (obj) {\n        if (obj && obj.props.active && obj.onKeyDown) {\n          handled = obj.onKeyDown(e);\n        }\n      });\n\n      if (handled) {\n        return 1;\n      }\n\n      var activeItem = null;\n\n      if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n        activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1);\n      }\n\n      if (activeItem) {\n        e.preventDefault();\n        updateActiveKey(_this.props.store, getEventKey(_this.props), activeItem.props.eventKey);\n\n        if (typeof callback === 'function') {\n          callback(activeItem);\n        }\n\n        return 1;\n      }\n\n      return undefined;\n    };\n\n    _this.onItemHover = function (e) {\n      var key = e.key,\n          hover = e.hover;\n      updateActiveKey(_this.props.store, getEventKey(_this.props), hover ? key : null);\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      _this.props.onDeselect(selectInfo);\n    };\n\n    _this.onSelect = function (selectInfo) {\n      _this.props.onSelect(selectInfo);\n    };\n\n    _this.onClick = function (e) {\n      _this.props.onClick(e);\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onDestroy = function (key) {\n      /* istanbul ignore next */\n      _this.props.onDestroy(key);\n    };\n\n    _this.getFlatInstanceArray = function () {\n      return _this.instanceArray;\n    };\n\n    _this.step = function (direction) {\n      var children = _this.getFlatInstanceArray();\n\n      var activeKey = _this.props.store.getState().activeKey[getEventKey(_this.props)];\n\n      var len = children.length;\n\n      if (!len) {\n        return null;\n      }\n\n      if (direction < 0) {\n        children = children.concat().reverse();\n      } // find current activeIndex\n\n\n      var activeIndex = -1;\n      children.every(function (c, ci) {\n        if (c && c.props.eventKey === activeKey) {\n          activeIndex = ci;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (!_this.props.defaultActiveFirst && activeIndex !== -1 && allDisabled(children.slice(activeIndex, len - 1))) {\n        return undefined;\n      }\n\n      var start = (activeIndex + 1) % len;\n      var i = start;\n\n      do {\n        var child = children[i];\n\n        if (!child || child.props.disabled) {\n          i = (i + 1) % len;\n        } else {\n          return child;\n        }\n      } while (i !== start);\n\n      return null;\n    };\n\n    _this.renderCommonMenuItem = function (child, i, extraProps) {\n      var state = _this.props.store.getState();\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      var key = getKeyFromChildrenIndex(child, props.eventKey, i);\n      var childProps = child.props; // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n      if (!childProps || typeof child.type === 'string') {\n        return child;\n      }\n\n      var isActive = key === state.activeKey;\n\n      var newChildProps = _objectSpread(_objectSpread({\n        mode: childProps.mode || props.mode,\n        level: props.level,\n        inlineIndent: props.inlineIndent,\n        renderMenuItem: _this.renderMenuItem,\n        rootPrefixCls: props.prefixCls,\n        index: i,\n        parentMenu: props.parentMenu,\n        // customized ref function, need to be invoked manually in child's componentDidMount\n        manualRef: childProps.disabled ? undefined : createChainedFunction(child.ref, saveRef.bind(_assertThisInitialized(_this))),\n        eventKey: key,\n        active: !childProps.disabled && isActive,\n        multiple: props.multiple,\n        onClick: function onClick(e) {\n          (childProps.onClick || noop)(e);\n\n          _this.onClick(e);\n        },\n        onItemHover: _this.onItemHover,\n        motion: props.motion,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        onOpenChange: _this.onOpenChange,\n        onDeselect: _this.onDeselect,\n        onSelect: _this.onSelect,\n        builtinPlacements: props.builtinPlacements,\n        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n        expandIcon: childProps.expandIcon || _this.props.expandIcon\n      }, extraProps), {}, {\n        direction: props.direction\n      }); // ref: https://github.com/ant-design/ant-design/issues/13943\n\n\n      if (props.mode === 'inline' || isMobileDevice()) {\n        newChildProps.triggerSubMenuAction = 'click';\n      }\n\n      return React.cloneElement(child, newChildProps);\n    };\n\n    _this.renderMenuItem = function (c, i, subMenuKey) {\n      /* istanbul ignore if */\n      if (!c) {\n        return null;\n      }\n\n      var state = _this.props.store.getState();\n\n      var extraProps = {\n        openKeys: state.openKeys,\n        selectedKeys: state.selectedKeys,\n        triggerSubMenuAction: _this.props.triggerSubMenuAction,\n        subMenuKey: subMenuKey\n      };\n      return _this.renderCommonMenuItem(c, i, extraProps);\n    };\n\n    props.store.setState({\n      activeKey: _objectSpread(_objectSpread({}, props.store.getState().activeKey), {}, _defineProperty({}, props.eventKey, getActiveKey(props, props.activeKey)))\n    });\n    _this.instanceArray = [];\n    return _this;\n  }\n\n  _createClass(SubPopupMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // invoke customized ref to expose component to mixin\n      if (this.props.manualRef) {\n        this.props.manualRef(this);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.visible || nextProps.visible || this.props.className !== nextProps.className || !shallowEqual(this.props.style, nextProps.style);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n      var originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n      var activeKey = getActiveKey(props, originalActiveKey);\n\n      if (activeKey !== originalActiveKey) {\n        updateActiveKey(props.store, getEventKey(props), activeKey);\n      } else if ('activeKey' in prevProps) {\n        // If prev activeKey is not same as current activeKey,\n        // we should set it.\n        var prevActiveKey = getActiveKey(prevProps, prevProps.activeKey);\n\n        if (activeKey !== prevActiveKey) {\n          updateActiveKey(props.store, getEventKey(props), activeKey);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props);\n\n      this.instanceArray = [];\n      var className = classNames(props.prefixCls, props.className, \"\".concat(props.prefixCls, \"-\").concat(props.mode));\n      var domProps = {\n        className: className,\n        // role could be 'select' and by default set to menu\n        role: props.role || 'menu'\n      };\n\n      if (props.id) {\n        domProps.id = props.id;\n      }\n\n      if (props.focusable) {\n        domProps.tabIndex = 0;\n        domProps.onKeyDown = this.onKeyDown;\n      }\n\n      var prefixCls = props.prefixCls,\n          eventKey = props.eventKey,\n          visible = props.visible,\n          level = props.level,\n          mode = props.mode,\n          overflowedIndicator = props.overflowedIndicator,\n          theme = props.theme;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Otherwise, the propagated click event will trigger another onClick\n\n      delete props.onClick;\n      return React.createElement(DOMWrap, Object.assign({}, props, {\n        prefixCls: prefixCls,\n        mode: mode,\n        tag: \"ul\",\n        level: level,\n        theme: theme,\n        visible: visible,\n        overflowedIndicator: overflowedIndicator\n      }, domProps), React.Children.map(props.children, function (c, i) {\n        return _this2.renderMenuItem(c, i, eventKey || '0-menu-');\n      }));\n    }\n  }]);\n\n  return SubPopupMenu;\n}(React.Component);\nSubPopupMenu.defaultProps = {\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  level: 1,\n  inlineIndent: 24,\n  visible: true,\n  focusable: true,\n  style: {},\n  manualRef: noop\n};\nvar connected = connect()(SubPopupMenu);\nexport default connected;"]},"metadata":{},"sourceType":"module"}
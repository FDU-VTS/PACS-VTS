{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport debounce from 'lodash/debounce';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { setTransform, isTransform3dSupported } from './utils';\n\nvar ScrollableTabBarNode = /*#__PURE__*/function (_React$Component) {\n  _inherits(ScrollableTabBarNode, _React$Component);\n\n  function ScrollableTabBarNode(props) {\n    var _this;\n\n    _classCallCheck(this, ScrollableTabBarNode);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScrollableTabBarNode).call(this, props));\n\n    _this.prevTransitionEnd = function (e) {\n      if (e.propertyName !== 'opacity') {\n        return;\n      }\n\n      var container = _this.props.getRef('container');\n\n      _this.scrollToActiveTab({\n        target: container,\n        currentTarget: container\n      });\n    };\n\n    _this.scrollToActiveTab = function (e) {\n      var activeTab = _this.props.getRef('activeTab');\n\n      var navWrap = _this.props.getRef('navWrap');\n\n      if (e && e.target !== e.currentTarget || !activeTab) {\n        return;\n      } // when not scrollable or enter scrollable first time, don't emit scrolling\n\n\n      var needToSroll = _this.isNextPrevShown() && _this.lastNextPrevShown;\n\n      _this.lastNextPrevShown = _this.isNextPrevShown();\n\n      if (!needToSroll) {\n        return;\n      }\n\n      var activeTabWH = _this.getScrollWH(activeTab);\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrap);\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          offset = _assertThisInitialize.offset;\n\n      var wrapOffset = _this.getOffsetLT(navWrap);\n\n      var activeTabOffset = _this.getOffsetLT(activeTab);\n\n      if (wrapOffset > activeTabOffset) {\n        offset += wrapOffset - activeTabOffset;\n\n        _this.setOffset(offset);\n      } else if (wrapOffset + navWrapNodeWH < activeTabOffset + activeTabWH) {\n        offset -= activeTabOffset + activeTabWH - (wrapOffset + navWrapNodeWH);\n\n        _this.setOffset(offset);\n      }\n    };\n\n    _this.prev = function (e) {\n      _this.props.onPrevClick(e);\n\n      var navWrapNode = _this.props.getRef('navWrap');\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          offset = _assertThisInitialize2.offset;\n\n      _this.setOffset(offset + navWrapNodeWH);\n    };\n\n    _this.next = function (e) {\n      _this.props.onNextClick(e);\n\n      var navWrapNode = _this.props.getRef('navWrap');\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\n\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          offset = _assertThisInitialize3.offset;\n\n      _this.setOffset(offset - navWrapNodeWH);\n    };\n\n    _this.offset = 0;\n    _this.state = {\n      next: false,\n      prev: false\n    };\n    return _this;\n  }\n\n  _createClass(ScrollableTabBarNode, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.componentDidUpdate();\n      this.debouncedResize = debounce(function () {\n        _this2.setNextPrev();\n\n        _this2.scrollToActiveTab();\n      }, 200);\n      this.resizeObserver = new ResizeObserver(this.debouncedResize);\n      this.resizeObserver.observe(this.props.getRef('container'));\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n\n      if (prevProps && prevProps.tabBarPosition !== props.tabBarPosition) {\n        this.setOffset(0);\n        return;\n      }\n\n      var nextPrev = this.setNextPrev(); // wait next, prev show hide\n\n      /* eslint react/no-did-update-set-state:0 */\n\n      if (this.isNextPrevShown(this.state) !== this.isNextPrevShown(nextPrev)) {\n        this.setState({}, this.scrollToActiveTab);\n      } else if (!prevProps || props.activeKey !== prevProps.activeKey) {\n        // can not use props.activeKey\n        this.scrollToActiveTab();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n      }\n\n      if (this.debouncedResize && this.debouncedResize.cancel) {\n        this.debouncedResize.cancel();\n      }\n    }\n  }, {\n    key: \"setNextPrev\",\n    value: function setNextPrev() {\n      var navNode = this.props.getRef('nav');\n      var navTabsContainer = this.props.getRef('navTabsContainer');\n      var navNodeWH = this.getScrollWH(navTabsContainer || navNode); // Add 1px to fix `offsetWidth` with decimal in Chrome not correct handle\n      // https://github.com/ant-design/ant-design/issues/13423\n\n      var containerWH = this.getOffsetWH(this.props.getRef('container')) + 1;\n      var navWrapNodeWH = this.getOffsetWH(this.props.getRef('navWrap'));\n      var offset = this.offset;\n      var minOffset = containerWH - navNodeWH;\n      var _this$state = this.state,\n          next = _this$state.next,\n          prev = _this$state.prev;\n\n      if (minOffset >= 0) {\n        next = false;\n        this.setOffset(0, false);\n        offset = 0;\n      } else if (minOffset < offset) {\n        next = true;\n      } else {\n        next = false; // Fix https://github.com/ant-design/ant-design/issues/8861\n        // Test with container offset which is stable\n        // and set the offset of the nav wrap node\n\n        var realOffset = navWrapNodeWH - navNodeWH;\n        this.setOffset(realOffset, false);\n        offset = realOffset;\n      }\n\n      if (offset < 0) {\n        prev = true;\n      } else {\n        prev = false;\n      }\n\n      this.setNext(next);\n      this.setPrev(prev);\n      return {\n        next: next,\n        prev: prev\n      };\n    }\n  }, {\n    key: \"getOffsetWH\",\n    value: function getOffsetWH(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'offsetWidth';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'offsetHeight';\n      }\n\n      return node[prop];\n    }\n  }, {\n    key: \"getScrollWH\",\n    value: function getScrollWH(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'scrollWidth';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'scrollHeight';\n      }\n\n      return node[prop];\n    }\n  }, {\n    key: \"getOffsetLT\",\n    value: function getOffsetLT(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'left';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'top';\n      }\n\n      return node.getBoundingClientRect()[prop];\n    }\n  }, {\n    key: \"setOffset\",\n    value: function setOffset(offset) {\n      var checkNextPrev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var target = Math.min(0, offset);\n\n      if (this.offset !== target) {\n        this.offset = target;\n        var navOffset = {};\n        var tabBarPosition = this.props.tabBarPosition;\n        var navStyle = this.props.getRef('nav').style;\n        var transformSupported = isTransform3dSupported(navStyle);\n\n        if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n          if (transformSupported) {\n            navOffset = {\n              value: \"translate3d(0,\".concat(target, \"px,0)\")\n            };\n          } else {\n            navOffset = {\n              name: 'top',\n              value: \"\".concat(target, \"px\")\n            };\n          }\n        } else if (transformSupported) {\n          if (this.props.direction === 'rtl') {\n            target = -target;\n          }\n\n          navOffset = {\n            value: \"translate3d(\".concat(target, \"px,0,0)\")\n          };\n        } else {\n          navOffset = {\n            name: 'left',\n            value: \"\".concat(target, \"px\")\n          };\n        }\n\n        if (transformSupported) {\n          setTransform(navStyle, navOffset.value);\n        } else {\n          navStyle[navOffset.name] = navOffset.value;\n        }\n\n        if (checkNextPrev) {\n          this.setNextPrev();\n        }\n      }\n    }\n  }, {\n    key: \"setPrev\",\n    value: function setPrev(v) {\n      if (this.state.prev !== v) {\n        this.setState({\n          prev: v\n        });\n      }\n    }\n  }, {\n    key: \"setNext\",\n    value: function setNext(v) {\n      if (this.state.next !== v) {\n        this.setState({\n          next: v\n        });\n      }\n    }\n  }, {\n    key: \"isNextPrevShown\",\n    value: function isNextPrevShown(state) {\n      if (state) {\n        return state.next || state.prev;\n      }\n\n      return this.state.next || this.state.prev;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames, _classnames2, _classnames3, _classnames4;\n\n      var _this$state2 = this.state,\n          next = _this$state2.next,\n          prev = _this$state2.prev;\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          scrollAnimated = _this$props.scrollAnimated,\n          navWrapper = _this$props.navWrapper,\n          prevIcon = _this$props.prevIcon,\n          nextIcon = _this$props.nextIcon;\n      var showNextPrev = prev || next;\n      var prevButton = React.createElement(\"span\", {\n        onClick: prev ? this.prev : null,\n        unselectable: \"unselectable\",\n        className: classnames((_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-tab-prev\"), 1), _defineProperty(_classnames, \"\".concat(prefixCls, \"-tab-btn-disabled\"), !prev), _defineProperty(_classnames, \"\".concat(prefixCls, \"-tab-arrow-show\"), showNextPrev), _classnames)),\n        onTransitionEnd: this.prevTransitionEnd\n      }, prevIcon || React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-tab-prev-icon\")\n      }));\n      var nextButton = React.createElement(\"span\", {\n        onClick: next ? this.next : null,\n        unselectable: \"unselectable\",\n        className: classnames((_classnames2 = {}, _defineProperty(_classnames2, \"\".concat(prefixCls, \"-tab-next\"), 1), _defineProperty(_classnames2, \"\".concat(prefixCls, \"-tab-btn-disabled\"), !next), _defineProperty(_classnames2, \"\".concat(prefixCls, \"-tab-arrow-show\"), showNextPrev), _classnames2))\n      }, nextIcon || React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-tab-next-icon\")\n      }));\n      var navClassName = \"\".concat(prefixCls, \"-nav\");\n      var navClasses = classnames((_classnames3 = {}, _defineProperty(_classnames3, navClassName, true), _defineProperty(_classnames3, scrollAnimated ? \"\".concat(navClassName, \"-animated\") : \"\".concat(navClassName, \"-no-animated\"), true), _classnames3));\n      return React.createElement(\"div\", {\n        className: classnames((_classnames4 = {}, _defineProperty(_classnames4, \"\".concat(prefixCls, \"-nav-container\"), 1), _defineProperty(_classnames4, \"\".concat(prefixCls, \"-nav-container-scrolling\"), showNextPrev), _classnames4)),\n        key: \"container\",\n        ref: this.props.saveRef('container')\n      }, prevButton, nextButton, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-nav-wrap\"),\n        ref: this.props.saveRef('navWrap')\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-nav-scroll\")\n      }, React.createElement(\"div\", {\n        className: navClasses,\n        ref: this.props.saveRef('nav')\n      }, navWrapper(this.props.children)))));\n    }\n  }]);\n\n  return ScrollableTabBarNode;\n}(React.Component);\n\nexport { ScrollableTabBarNode as default };\nScrollableTabBarNode.defaultProps = {\n  tabBarPosition: 'left',\n  prefixCls: '',\n  scrollAnimated: true,\n  onPrevClick: function onPrevClick() {},\n  onNextClick: function onNextClick() {},\n  navWrapper: function navWrapper(ele) {\n    return ele;\n  }\n};","map":{"version":3,"sources":["/Users/bly/Documents/工作/实验室/项目/医疗系统/PACS/pacs/node_modules/rc-tabs/es/ScrollableTabBarNode.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","classnames","debounce","ResizeObserver","setTransform","isTransform3dSupported","ScrollableTabBarNode","_React$Component","_this","prevTransitionEnd","e","propertyName","container","getRef","scrollToActiveTab","currentTarget","activeTab","navWrap","needToSroll","isNextPrevShown","lastNextPrevShown","activeTabWH","getScrollWH","navWrapNodeWH","getOffsetWH","_assertThisInitialize","offset","wrapOffset","getOffsetLT","activeTabOffset","setOffset","prev","onPrevClick","navWrapNode","_assertThisInitialize2","next","onNextClick","_assertThisInitialize3","state","componentDidMount","_this2","componentDidUpdate","debouncedResize","setNextPrev","resizeObserver","observe","prevProps","tabBarPosition","nextPrev","setState","activeKey","componentWillUnmount","disconnect","cancel","navNode","navTabsContainer","navNodeWH","containerWH","minOffset","_this$state","realOffset","setNext","setPrev","node","prop","getBoundingClientRect","checkNextPrev","arguments","undefined","Math","min","navOffset","navStyle","style","transformSupported","concat","name","direction","v","render","_classnames","_classnames2","_classnames3","_classnames4","_this$state2","_this$props","prefixCls","scrollAnimated","navWrapper","prevIcon","nextIcon","showNextPrev","prevButton","createElement","onClick","unselectable","className","onTransitionEnd","nextButton","navClassName","navClasses","ref","saveRef","children","Component","default","defaultProps","ele"],"mappings":"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","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport debounce from 'lodash/debounce';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { setTransform, isTransform3dSupported } from './utils';\n\nvar ScrollableTabBarNode = /*#__PURE__*/function (_React$Component) {\n  _inherits(ScrollableTabBarNode, _React$Component);\n\n  function ScrollableTabBarNode(props) {\n    var _this;\n\n    _classCallCheck(this, ScrollableTabBarNode);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScrollableTabBarNode).call(this, props));\n\n    _this.prevTransitionEnd = function (e) {\n      if (e.propertyName !== 'opacity') {\n        return;\n      }\n\n      var container = _this.props.getRef('container');\n\n      _this.scrollToActiveTab({\n        target: container,\n        currentTarget: container\n      });\n    };\n\n    _this.scrollToActiveTab = function (e) {\n      var activeTab = _this.props.getRef('activeTab');\n\n      var navWrap = _this.props.getRef('navWrap');\n\n      if (e && e.target !== e.currentTarget || !activeTab) {\n        return;\n      } // when not scrollable or enter scrollable first time, don't emit scrolling\n\n\n      var needToSroll = _this.isNextPrevShown() && _this.lastNextPrevShown;\n\n      _this.lastNextPrevShown = _this.isNextPrevShown();\n\n      if (!needToSroll) {\n        return;\n      }\n\n      var activeTabWH = _this.getScrollWH(activeTab);\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrap);\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          offset = _assertThisInitialize.offset;\n\n      var wrapOffset = _this.getOffsetLT(navWrap);\n\n      var activeTabOffset = _this.getOffsetLT(activeTab);\n\n      if (wrapOffset > activeTabOffset) {\n        offset += wrapOffset - activeTabOffset;\n\n        _this.setOffset(offset);\n      } else if (wrapOffset + navWrapNodeWH < activeTabOffset + activeTabWH) {\n        offset -= activeTabOffset + activeTabWH - (wrapOffset + navWrapNodeWH);\n\n        _this.setOffset(offset);\n      }\n    };\n\n    _this.prev = function (e) {\n      _this.props.onPrevClick(e);\n\n      var navWrapNode = _this.props.getRef('navWrap');\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          offset = _assertThisInitialize2.offset;\n\n      _this.setOffset(offset + navWrapNodeWH);\n    };\n\n    _this.next = function (e) {\n      _this.props.onNextClick(e);\n\n      var navWrapNode = _this.props.getRef('navWrap');\n\n      var navWrapNodeWH = _this.getOffsetWH(navWrapNode);\n\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          offset = _assertThisInitialize3.offset;\n\n      _this.setOffset(offset - navWrapNodeWH);\n    };\n\n    _this.offset = 0;\n    _this.state = {\n      next: false,\n      prev: false\n    };\n    return _this;\n  }\n\n  _createClass(ScrollableTabBarNode, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.componentDidUpdate();\n      this.debouncedResize = debounce(function () {\n        _this2.setNextPrev();\n\n        _this2.scrollToActiveTab();\n      }, 200);\n      this.resizeObserver = new ResizeObserver(this.debouncedResize);\n      this.resizeObserver.observe(this.props.getRef('container'));\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n\n      if (prevProps && prevProps.tabBarPosition !== props.tabBarPosition) {\n        this.setOffset(0);\n        return;\n      }\n\n      var nextPrev = this.setNextPrev(); // wait next, prev show hide\n\n      /* eslint react/no-did-update-set-state:0 */\n\n      if (this.isNextPrevShown(this.state) !== this.isNextPrevShown(nextPrev)) {\n        this.setState({}, this.scrollToActiveTab);\n      } else if (!prevProps || props.activeKey !== prevProps.activeKey) {\n        // can not use props.activeKey\n        this.scrollToActiveTab();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n      }\n\n      if (this.debouncedResize && this.debouncedResize.cancel) {\n        this.debouncedResize.cancel();\n      }\n    }\n  }, {\n    key: \"setNextPrev\",\n    value: function setNextPrev() {\n      var navNode = this.props.getRef('nav');\n      var navTabsContainer = this.props.getRef('navTabsContainer');\n      var navNodeWH = this.getScrollWH(navTabsContainer || navNode); // Add 1px to fix `offsetWidth` with decimal in Chrome not correct handle\n      // https://github.com/ant-design/ant-design/issues/13423\n\n      var containerWH = this.getOffsetWH(this.props.getRef('container')) + 1;\n      var navWrapNodeWH = this.getOffsetWH(this.props.getRef('navWrap'));\n      var offset = this.offset;\n      var minOffset = containerWH - navNodeWH;\n      var _this$state = this.state,\n          next = _this$state.next,\n          prev = _this$state.prev;\n\n      if (minOffset >= 0) {\n        next = false;\n        this.setOffset(0, false);\n        offset = 0;\n      } else if (minOffset < offset) {\n        next = true;\n      } else {\n        next = false; // Fix https://github.com/ant-design/ant-design/issues/8861\n        // Test with container offset which is stable\n        // and set the offset of the nav wrap node\n\n        var realOffset = navWrapNodeWH - navNodeWH;\n        this.setOffset(realOffset, false);\n        offset = realOffset;\n      }\n\n      if (offset < 0) {\n        prev = true;\n      } else {\n        prev = false;\n      }\n\n      this.setNext(next);\n      this.setPrev(prev);\n      return {\n        next: next,\n        prev: prev\n      };\n    }\n  }, {\n    key: \"getOffsetWH\",\n    value: function getOffsetWH(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'offsetWidth';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'offsetHeight';\n      }\n\n      return node[prop];\n    }\n  }, {\n    key: \"getScrollWH\",\n    value: function getScrollWH(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'scrollWidth';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'scrollHeight';\n      }\n\n      return node[prop];\n    }\n  }, {\n    key: \"getOffsetLT\",\n    value: function getOffsetLT(node) {\n      var tabBarPosition = this.props.tabBarPosition;\n      var prop = 'left';\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        prop = 'top';\n      }\n\n      return node.getBoundingClientRect()[prop];\n    }\n  }, {\n    key: \"setOffset\",\n    value: function setOffset(offset) {\n      var checkNextPrev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var target = Math.min(0, offset);\n\n      if (this.offset !== target) {\n        this.offset = target;\n        var navOffset = {};\n        var tabBarPosition = this.props.tabBarPosition;\n        var navStyle = this.props.getRef('nav').style;\n        var transformSupported = isTransform3dSupported(navStyle);\n\n        if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n          if (transformSupported) {\n            navOffset = {\n              value: \"translate3d(0,\".concat(target, \"px,0)\")\n            };\n          } else {\n            navOffset = {\n              name: 'top',\n              value: \"\".concat(target, \"px\")\n            };\n          }\n        } else if (transformSupported) {\n          if (this.props.direction === 'rtl') {\n            target = -target;\n          }\n\n          navOffset = {\n            value: \"translate3d(\".concat(target, \"px,0,0)\")\n          };\n        } else {\n          navOffset = {\n            name: 'left',\n            value: \"\".concat(target, \"px\")\n          };\n        }\n\n        if (transformSupported) {\n          setTransform(navStyle, navOffset.value);\n        } else {\n          navStyle[navOffset.name] = navOffset.value;\n        }\n\n        if (checkNextPrev) {\n          this.setNextPrev();\n        }\n      }\n    }\n  }, {\n    key: \"setPrev\",\n    value: function setPrev(v) {\n      if (this.state.prev !== v) {\n        this.setState({\n          prev: v\n        });\n      }\n    }\n  }, {\n    key: \"setNext\",\n    value: function setNext(v) {\n      if (this.state.next !== v) {\n        this.setState({\n          next: v\n        });\n      }\n    }\n  }, {\n    key: \"isNextPrevShown\",\n    value: function isNextPrevShown(state) {\n      if (state) {\n        return state.next || state.prev;\n      }\n\n      return this.state.next || this.state.prev;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames, _classnames2, _classnames3, _classnames4;\n\n      var _this$state2 = this.state,\n          next = _this$state2.next,\n          prev = _this$state2.prev;\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          scrollAnimated = _this$props.scrollAnimated,\n          navWrapper = _this$props.navWrapper,\n          prevIcon = _this$props.prevIcon,\n          nextIcon = _this$props.nextIcon;\n      var showNextPrev = prev || next;\n      var prevButton = React.createElement(\"span\", {\n        onClick: prev ? this.prev : null,\n        unselectable: \"unselectable\",\n        className: classnames((_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-tab-prev\"), 1), _defineProperty(_classnames, \"\".concat(prefixCls, \"-tab-btn-disabled\"), !prev), _defineProperty(_classnames, \"\".concat(prefixCls, \"-tab-arrow-show\"), showNextPrev), _classnames)),\n        onTransitionEnd: this.prevTransitionEnd\n      }, prevIcon || React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-tab-prev-icon\")\n      }));\n      var nextButton = React.createElement(\"span\", {\n        onClick: next ? this.next : null,\n        unselectable: \"unselectable\",\n        className: classnames((_classnames2 = {}, _defineProperty(_classnames2, \"\".concat(prefixCls, \"-tab-next\"), 1), _defineProperty(_classnames2, \"\".concat(prefixCls, \"-tab-btn-disabled\"), !next), _defineProperty(_classnames2, \"\".concat(prefixCls, \"-tab-arrow-show\"), showNextPrev), _classnames2))\n      }, nextIcon || React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-tab-next-icon\")\n      }));\n      var navClassName = \"\".concat(prefixCls, \"-nav\");\n      var navClasses = classnames((_classnames3 = {}, _defineProperty(_classnames3, navClassName, true), _defineProperty(_classnames3, scrollAnimated ? \"\".concat(navClassName, \"-animated\") : \"\".concat(navClassName, \"-no-animated\"), true), _classnames3));\n      return React.createElement(\"div\", {\n        className: classnames((_classnames4 = {}, _defineProperty(_classnames4, \"\".concat(prefixCls, \"-nav-container\"), 1), _defineProperty(_classnames4, \"\".concat(prefixCls, \"-nav-container-scrolling\"), showNextPrev), _classnames4)),\n        key: \"container\",\n        ref: this.props.saveRef('container')\n      }, prevButton, nextButton, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-nav-wrap\"),\n        ref: this.props.saveRef('navWrap')\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-nav-scroll\")\n      }, React.createElement(\"div\", {\n        className: navClasses,\n        ref: this.props.saveRef('nav')\n      }, navWrapper(this.props.children)))));\n    }\n  }]);\n\n  return ScrollableTabBarNode;\n}(React.Component);\n\nexport { ScrollableTabBarNode as default };\nScrollableTabBarNode.defaultProps = {\n  tabBarPosition: 'left',\n  prefixCls: '',\n  scrollAnimated: true,\n  onPrevClick: function onPrevClick() {},\n  onNextClick: function onNextClick() {},\n  navWrapper: function navWrapper(ele) {\n    return ele;\n  }\n};"]},"metadata":{},"sourceType":"module"}